/**
 * WebAR.rocks.object
 *
 * Copyright (c) 2020 WebAR.rocks ( https://webar.rocks )
 * This code is released under dual licensing:
 *   - GPLv3 
 *   - Nominative commercial license
 * Please read https://github.com/WebAR-rocks/WebAR.rocks.object/blob/master/LICENSE
 * 
*/var WEBARROCKSOBJECT=(function(){function $a(){this.Fa=!1;this.ha=null;this.ld=void 0;this.da=1;this.Cc=this.ud=0;this.ya=null}function ib(N){if(N.Fa)throw new TypeError("Generator is already running");N.Fa=!0}$a.prototype.Ha=function(N){this.ld=N};$a.prototype.La=function(N){this.ya={Id:N,be:!0};this.da=this.ud||this.Cc};$a.prototype.return=function(N){this.ya={return:N};this.da=this.Cc};function jb(N){this.s=new $a;this.qe=N}
jb.prototype.Ha=function(N){ib(this.s);if(this.s.ha)return rb(this,this.s.ha.next,N,this.s.Ha);this.s.Ha(N);return sb(this)};function Cb(N,ea){ib(N.s);var ra=N.s.ha;if(ra)return rb(N,"return"in ra?ra["return"]:function(wa){return{value:wa,done:!0}},ea,N.s.return);N.s.return(ea);return sb(N)}jb.prototype.La=function(N){ib(this.s);if(this.s.ha)return rb(this,this.s.ha["throw"],N,this.s.Ha);this.s.La(N);return sb(this)};
function rb(N,ea,ra,wa){try{var Ba=ea.call(N.s.ha,ra);if(!(Ba instanceof Object))throw new TypeError("Iterator result "+Ba+" is not an object");if(!Ba.done)return N.s.Fa=!1,Ba;var Ja=Ba.value}catch(sa){return N.s.ha=null,N.s.La(sa),sb(N)}N.s.ha=null;wa.call(N.s,Ja);return sb(N)}
function sb(N){for(;N.s.da;)try{var ea=N.qe(N.s);if(ea)return N.s.Fa=!1,{value:ea.value,done:!1}}catch(ra){N.s.ld=void 0,N.s.La(ra)}N.s.Fa=!1;if(N.s.ya){ea=N.s.ya;N.s.ya=null;if(ea.be)throw ea.Id;return{value:ea.return,done:!0}}return{value:void 0,done:!0}}function Db(N){this.next=function(ea){return N.Ha(ea)};this.throw=function(ea){return N.La(ea)};this.return=function(ea){return Cb(N,ea)};this[Symbol.iterator]=function(){return this}}
function Wb(N){function ea(wa){return N.next(wa)}function ra(wa){return N.throw(wa)}return new Promise(function(wa,Ba){function Ja(sa){sa.done?wa(sa.value):Promise.resolve(sa.value).then(ea,ra).then(Ja,Ba)}Ja(N.next())})}
window.WEBARROCKSOBJECT=function(){function N(a){var c=null,d=null,e=null,n=0;this.B=function(l){this.ze(l.fb);e.yd({Wb:l.Wb,Tb:l.Tb})};this.Td=function(l){return c[l]};this.ze=function(l){var t=null;n=l.length;c=l.map(function(p,k){p=Object.assign({},p,{index:k,parent:this,nb:t,ee:k===n-1});return t=k=0===k?Xb.instance(p):Yb.instance(p)});d=c[0];e=c[n-1];c.forEach(function(p,k){0!==k&&p.pe()})};this.N=function(l){l.i(0);var t=l;c.forEach(function(p){t=p.N(t,!1)});return t};this.oe=function(l){var t,
p,k;return Wb(new Db(new jb(function(r){l.i(0);t=l;for(p=0;p<n-1;++p)k=c[p],t=k.N(t,!1);var v=c[n-1].N(t,!0);r.da=0;return{value:v}})))};this.Sd=function(){return d.F()};this.Wd=function(){return e.F()};this.Hb=function(){return e.Vd()};this.Ec=function(){return e.Ec()};this.u=function(){c&&(c.forEach(function(l){l.u()}),e=d=c=null,n=0)};"undefined"!==typeof a&&this.B(a)}var ea;function ra(a,c){var d=c%8;return a[(c-d)/8]>>7-d&1}function wa(a){var c=JSON.parse(a);a=c.ne;var d=c.nf,e=c.n;var n="undefined"===
typeof btoa?Buffer.from(c.data,"base64").toString("latin1"):atob(c.data);var l=n.length;c=new Uint8Array(l);for(var t=0;t<l;++t)c[t]=n.charCodeAt(t);n=new Float32Array(e);l=new Float32Array(d);t=a+d+1;for(var p=0;p<e;++p){for(var k=t*p,r=0===ra(c,k)?1:-1,v=k+1,E=1,F=0,u=v+a-1;u>=v;--u)F+=E*ra(c,u),E*=2;v=F;k=k+1+a;E=l.length;F=0;for(u=k;u<k+E;++u)l[F]=ra(c,u,!0),++F;for(E=k=0;E<d;++E)k+=l[E]*Math.pow(2,-E-1);n[p]=0===k&&0===v?0:r*(1+k)*Math.pow(2,1+v-Math.pow(2,a-1))}return n}function Ba(a){if(a){var c=
a.w,d=a.h;H.I.Aa[0]=-1+2*(a.x+c/2)/H.ga;H.I.Aa[1]=-1+2*(a.y+d/2)/H.fa;H.I.scale[0]=c/H.ga;H.I.scale[1]=d/H.fa}else H.I.Aa[0]=0,H.I.Aa[1]=0,H.I.scale[0]=1,H.I.scale[1]=1;H.H=H.ga*H.I.scale[0];H.S=H.fa*H.I.scale[1]}function Ja(){var a=[{type:"2f",name:"u38",value:H.I.Aa},{type:"2f",name:"u39",value:H.I.scale}],c=a.concat([{type:"1f",name:"u40",value:H.ga/H.fa},{name:"u8",type:"2f",value:[1/H.ga,1/H.fa]}]);A.L("s53",c);A.L("s54",c);A.L("s55",a)}function sa(a,c,d){var e=Ka(a,c,"dx")*H.ra[0],n=Ka(a,c,
"dy")*H.ra[1];a=d[2]*Ka(a,c,"ds");if(Ta){c=Math.cos(Ea);var l=Math.sin(Ea),t=-l*e+c*n;e=c*e+l*n;n=t}e*=d[0];n*=d[1];d=U.o[2];c=U.o[3];U.o[0]-=e*d*W.O[0];U.o[1]-=n*c*W.O[1];U.o[2]-=a*d*W.O[2];U.o[2]=Pa.Ba(U.o[2],La.scaleXRange[0]*H.ra[0],La.scaleXRange[1]*H.ra[0]);U.o[0]=Pa.Ba(U.o[0],0,1);U.o[3]=U.o[2]*H.aspectRatio/H.Lb;U.o[1]=Pa.Ba(U.o[1],0,1)}function tb(a){var c=U.o[2],d=U.o[3],e=(2*Math.random()-1)*a,n=.5*(2*Math.random()-1)*a;U.o[0]+=(2*Math.random()-1)*a*c;U.o[1]+=e*d;U.o[2]+=n*c;U.o[3]=U.o[2]*
H.aspectRatio/H.Lb}function Ka(a,c,d){c=Fa[c].Pc[d];return(a[c][0]+a[c][1]+a[c][2]+a[c][3])/4}function Eb(a,c){if(W.Nb){if(W.$b){var d=Ka(a,c,"yaw");a=-Ka(a,c,"notHere");return Math.atan2(Pa.Ba(a,-1,1),Pa.Ba(d,-1,1))}return Math.PI*Ka(a,c,"yaw")}return 0}function Fb(a,c,d,e){c=Fa[c].Pc[d];return(a[c][0]+a[c][1]+a[c][2]+a[c][3])/4*(1-e)+e*Math.min(a[c][0],a[c][1],a[c][2],a[c][3])}function kb(a,c,d){var e=Fb(a,c,"here",d),n=0;0<ub&&!W.$b&&(n=ub*Fb(a,c,"notHere",d));return(e-n)/Fa[c].ec}function Ua(){Ea=
0;Ta&&null!==ab&&(Ea=ab[0]+Math.random()*(ab[1]-ab[0]));qa=ha.xa;var a=Gb.get(0);a&&(U.o[0]=a[0],U.o[1]=a[1],U.o[2]=a[2],U.o[3]=a[2]*H.aspectRatio)}function Zb(a,c){W.Ea&&(ma.roll=Ta?Ea:vb);W.bb&&(ma.pitch=Hb);W.Nb&&(ma.yaw=a);ma.label=Fa[Y.G].label;ma.distance=Fa[Y.G].Dd;ma.positionScale[0]=.5+(U.o[0]-.5)/H.I.scale[0];ma.positionScale[1]=.5+(U.o[1]-.5)/H.I.scale[1];ma.positionScale[2]=U.o[2];ma.positionScale[3]=U.o[3];ma.detectScore=c}function $b(a){var c=-1,d=-1E12;-1!==[ha.xa,ha.vb].indexOf(qa)&&
Fa.forEach(function(k,r){k=kb(a,r,0);k>d&&(d=k,c=r)});switch(qa){case ha.xa:qa=ha.vb;sa(a,c,[1,1,1]);ea=0;break;case ha.vb:++ea;d>V.tb?(V.Ga?(qa=ha.Na,bb=c,Y.G=c,Y.Rb=0):(qa=ha.ic,Ib=0,bb=c),sa(a,bb,[1,1,1])):ea>fa.je?Ua():sa(a,c,[1,1,1]);break;case ha.ic:++Ib>V.kb&&(qa=ha.Na,Y.n=0,Y.Sc=0,Y.G=bb,Y.W[0]=0,Y.W[1]=0);sa(a,bb,[1,1,1]);tb(V.gb);break;case ha.Na:if(V.Ga||++Y.n>V.ma){var e=kb(a,Y.G,1);if(V.Ga||e>V.tb+V.sb||V.ab){W.Ea&&(vb=W.Yc*Ka(a,Y.G,"roll"),Ta&&(Ea+=vb));if(wb){var n=-1;n=V.Ga||V.ab?
Eb(a,Y.G):Math.atan2(Y.W[1],Y.W[0]);if(W.bb){var l=.5+.5*Ka(a,Y.G,"pitch");Hb=W.pitchRange[0]+(W.pitchRange[1]-W.pitchRange[0])*l}Zb(n,e)}V.ab?(sa(a,Y.G,V.fd),e>V.dd?(Y.Rb=0,ma.label||(ma.label=Fa[Y.G].label)):++Y.Rb>V.ib&&Ua()):wb?Ua():sa(a,Y.G,[.5,.5,.5])}else Ua()}else{var t=1-(V.ma-Y.n)/(V.ma-1);e=1.5-1*t;sa(a,Y.G,[e,e,e]);tb(V.Qa*(1-t));var p=kb(a,Y.G,t);p<V.tb*t*V.Ra?Ua():++Y.Sc>10*V.ma?Ua():Fa.some(function(k,r){return Y.G===r?!1:kb(a,r,t)>p*(V.Ka*t+(1-t))?!0:!1})?(tb(V.Ma[0]),Ea+=(2*Math.random()-
1)*V.Ma[1]*Math.PI/180,Y.n=0,Y.W[0]=0,Y.W[1]=0):(e=Eb(a,Y.G),Y.W[0]+=Math.cos(e),Y.W[1]+=Math.sin(e))}}}function ac(){A.lc([{id:"s54",name:"_",va:"attribute vec2 a0;uniform vec4 u41;uniform vec2 u38,u39;uniform float u37,u40;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.);float a=u40*(u41.z/u41.w);a*=u39.x/u39.y;float b=cos(u37),c=sin(u37);vec2 f=mat2(b,-c*a,c/a,b)*a0,g=u38+f*u39,d=u41.xy+.5*u41.zw*g;vv0=vec2(d.x,1.-d.y);}",g:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;const vec3 g=vec3(1.,1.,1.);vec3 c[9];void main(){vec2 d=vv0+.5*u8;c[0]=texture2D(u1,d-u8*vec2(-1.,-1.)).rgb,c[1]=texture2D(u1,d-u8*vec2(-1.,0.)).rgb,c[2]=texture2D(u1,d-u8*vec2(-1.,1.)).rgb,c[3]=texture2D(u1,d-u8*vec2(0.,-1.)).rgb,c[4]=texture2D(u1,d-u8).rgb,c[5]=texture2D(u1,d-u8*vec2(0.,1.)).rgb,c[6]=texture2D(u1,d-u8*vec2(1.,-1.)).rgb,c[7]=texture2D(u1,d-u8*vec2(1.,0.)).rgb,c[8]=texture2D(u1,d-u8*vec2(1.,1.)).rgb;vec3 a,b;a=min(c[0],c[1]),b=max(c[0],c[1]),c[0]=a,c[1]=b,a=min(c[0],c[2]),b=max(c[0],c[2]),c[0]=a,c[2]=b,a=min(c[0],c[3]),b=max(c[0],c[3]),c[0]=a,c[3]=b,a=min(c[0],c[4]),b=max(c[0],c[4]),c[0]=a,c[4]=b,a=min(c[0],c[5]),b=max(c[0],c[5]),c[0]=a,c[5]=b,a=min(c[0],c[6]),b=max(c[0],c[6]),c[0]=a,c[6]=b,a=min(c[0],c[7]),b=max(c[0],c[7]),c[0]=a,c[7]=b,a=min(c[0],c[8]),b=max(c[0],c[8]),c[0]=a,c[8]=b,a=min(c[1],c[2]),b=max(c[1],c[2]),c[1]=a,c[2]=b,a=min(c[1],c[3]),b=max(c[1],c[3]),c[1]=a,c[3]=b,a=min(c[1],c[4]),b=max(c[1],c[4]),c[1]=a,c[4]=b,a=min(c[1],c[5]),b=max(c[1],c[5]),c[1]=a,c[5]=b,a=min(c[1],c[6]),b=max(c[1],c[6]),c[1]=a,c[6]=b,a=min(c[1],c[7]),b=max(c[1],c[7]),c[1]=a,c[7]=b,a=min(c[1],c[8]),b=max(c[1],c[8]),c[1]=a,c[8]=b,a=min(c[2],c[3]),b=max(c[2],c[3]),c[2]=a,c[3]=b,a=min(c[2],c[4]),b=max(c[2],c[4]),c[2]=a,c[4]=b,a=min(c[2],c[5]),b=max(c[2],c[5]),c[2]=a,c[5]=b,a=min(c[2],c[6]),b=max(c[2],c[6]),c[2]=a,c[6]=b,a=min(c[2],c[7]),b=max(c[2],c[7]),c[2]=a,c[7]=b,a=min(c[2],c[8]),b=max(c[2],c[8]),c[2]=a,c[8]=b,a=min(c[3],c[4]),b=max(c[3],c[4]),c[3]=a,c[4]=b,a=min(c[3],c[5]),b=max(c[3],c[5]),c[3]=a,c[5]=b,a=min(c[3],c[6]),b=max(c[3],c[6]),c[3]=a,c[6]=b,a=min(c[3],c[7]),b=max(c[3],c[7]),c[3]=a,c[7]=b,a=min(c[3],c[8]),b=max(c[3],c[8]),c[3]=a,c[8]=b,a=min(c[4],c[5]),b=max(c[4],c[5]),c[4]=a,c[5]=b,a=min(c[4],c[6]),b=max(c[4],c[6]),c[4]=a,c[6]=b,a=min(c[4],c[7]),b=max(c[4],c[7]),c[4]=a,c[7]=b,a=min(c[4],c[8]),b=max(c[4],c[8]),c[4]=a,c[8]=b,gl_FragColor=vec4(c[4]*g,1.);}",
j:"u1 u41 u39 u38 u37 u40 u8".split(" "),precision:"lowp"},{id:"s53",name:"_",va:"attribute vec2 a0;uniform vec4 u41;uniform vec2 u38,u39;uniform float u37,u40;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.);float a=u40*(u41.z/u41.w);a*=u39.x/u39.y;float b=cos(u37),c=sin(u37);vec2 f=mat2(b,-c*a,c/a,b)*a0,g=u38+f*u39,d=u41.xy+.5*u41.zw*g;vv0=vec2(d.x,1.-d.y);}",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",j:"u1 u41 u39 u38 u37 u40".split(" "),precision:"lowp"},
{id:"s56",name:"_",va:"attribute vec2 a0;uniform vec4 u41;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.);vec2 a=u41.xy+.5*u41.zw*a0;vv0=vec2(a.x,1.-a.y);}",g:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;const vec3 g=vec3(1.,1.,1.);float c[5];void main(){c[0]=texture2D(u1,vv0-u8*vec2(-1.,0.)).r,c[1]=texture2D(u1,vv0-u8*vec2(0.,-1.)).r,c[2]=texture2D(u1,vv0-u8).r,c[3]=texture2D(u1,vv0-u8*vec2(0.,1.)).r,c[4]=texture2D(u1,vv0-u8*vec2(1.,0.)).r;float a,b;a=min(c[0],c[1]),b=max(c[0],c[1]),c[0]=a,c[1]=b,a=min(c[0],c[2]),b=max(c[0],c[2]),c[0]=a,c[2]=b,a=min(c[0],c[3]),b=max(c[0],c[3]),c[0]=a,c[3]=b,a=min(c[0],c[4]),b=max(c[0],c[4]),c[0]=a,c[4]=b,a=min(c[1],c[2]),b=max(c[1],c[2]),c[1]=a,c[2]=b,a=min(c[1],c[3]),b=max(c[1],c[3]),c[1]=a,c[3]=b,a=min(c[1],c[4]),b=max(c[1],c[4]),c[1]=a,c[4]=b,a=min(c[2],c[3]),b=max(c[2],c[3]),c[2]=a,c[3]=b,a=min(c[2],c[4]),b=max(c[2],c[4]),c[2]=a,c[4]=b,gl_FragColor=vec4(c[2]*g,1.);}",
j:["u1","u41","u8"],precision:"lowp"},{id:"s55",name:"_",va:"attribute vec2 a0;uniform vec2 u38,u39;varying vec2 vv0;const vec2 f=vec2(1.,1.);void main(){gl_Position=vec4(a0,0.,1.);vec2 a=u38+a0*u39,b=(a+f)/2.;vv0=b;}",g:"uniform sampler2D u1;uniform vec4 u41;varying vec2 vv0;void main(){vec2 b=u41.xy-.5*u41.zw,c=u41.xy+.5*u41.zw,a=step(b,vv0)*step(vv0,c);vec4 d=texture2D(u1,vec2(vv0.x,1.-vv0.y));gl_FragColor=mix(d,vec4(0.,1.,0.,1.),a.x*a.y*.5);}",j:["u1","u41","u39","u38"],precision:"lowp"}]);var a=
[{type:"1i",name:"u1",value:0}];A.L("s54",a);A.L("s53",a);A.L("s56",a);A.L("s55",a);Jb()}function Jb(){Ea=0;A.L("s53",Kb);A.L("s54",Kb);ma.roll=0}function Va(){H.aspectRatio=H.H/H.S;Gb.B({mb:La.overlapFactors,Rc:La.nScaleLevels,H:H.H,S:H.S,Zc:La.scale0Factor,O:W.O,$c:La.scanCenterFirst})}function Lb(a){R.pa={isFlipY:!1,isLinear:!0,width:H.H,height:H.S,isPot:!1,isFloat:!1};R.type===Ma.Cb?Object.assign(R.pa,{isKeepArray:!0,array:a.arrayBuffer}):Object.assign(R.pa,{D:a});R.M=Z.instance(R.pa);R.sa=!0}
function Mb(a,c,d){if(!a.exportData||!a.exportData.labels)return c("INVALID_NN");var e=a.exportData;"undefined"===typeof e.paramsPerLabel&&(e.paramsPerLabel={});"undefined"!==typeof d&&d.paramsPerLabel&&(e.paramsPerLabel=Object.assign(e.paramsPerLabel,d.paramsPerLabel));lb.reset_state();Qa=new N({fb:a.layers,Wb:"cpuRGBA2Float",Tb:$b});U.M=Z.instance({isFloat:!1,isPot:!1,width:Qa.Sd()});W.O=e.translationScalingFactors?e.translationScalingFactors:fa.O;e.rollMax?(W.Yc=e.rollMax,W.Ea=!0):W.Ea=!1;e.pitchRange?
(W.pitchRange=e.pitchRange,W.bb=!0):W.bb=!1;e.splitYawComponents&&(W.$b=!0);"undefined"!==typeof e.isYaw&&(W.Nb=e.isYaw);W.width=Qa.Wd();a="undefined"===typeof d?{}:d;ub="undefined"===typeof a.notHereFactor?1:a.notHereFactor;a=e.labels;d="undefined"===typeof e.paramsPerLabel?!1:e.paramsPerLabel;var n="undefined"===typeof e.inputAspectRatio?1:e.inputAspectRatio,l=Math.sqrt(n);H.ra[0]=l;H.ra[1]=1/l;H.Lb=n;Va();n=Array(a.length);for(l=0;l<W.width/8;++l)for(var t=0;t<W.width;++t){var p=t+l*W.width;if(p>=
a.length)break;var k=t,r=8*l,v=a[p];n[p]={ec:d&&d[v]&&d[v].thresholdDetect?d[v].thresholdDetect:fa.ec,label:v,Dd:e.distances&&e.distances[p]?e.distances[p]:3,Pc:{here:k+r*W.width,notHere:k+(r+1)*W.width,yaw:k+(r+2)*W.width,dx:k+(r+3)*W.width,dy:k+(r+4)*W.width,ds:k+(r+5)*W.width,roll:k+(r+6)*W.width,pitch:k+(r+7)*W.width}}}Fa=n;c(!1)}function Nb(a,c,d){if(qa===ha.LOADING||cb!==Wa.IDLE)return-1;Object.assign(na,bc,d?d:{});V.tb=na.thresholdDetectFactor;V.dd=na.thresholdDetectFactorUnstitch;V.Ga=na.isSkipConfirmation;
V.ab=na.isKeepTracking;V.fd=na.trackingFactors;V.Ka=na.secondNeighborFactor;V.kb=na.nLocateAutomoves;V.gb=na.locateMoveNoiseAmplitude;V.ma=na.nConfirmAutoMoves;V.sb=na.thresholdConfirmOffset;V.Qa=na.confirmMoveNoiseAmplitude;V.ib=na.nConfirmUnstitchMoves;V.Ma=na.tiltPosAngleIfAmbiguousDetection;V.Ra=na.confirmScoreMinFactorDuringAutoMove;Ca.V();ma.label=!1;switch(R.current){case Xa.video:R.type===Ma.video&&R.time!==R.element.currentTime?(R.M.refresh(),R.time=R.element.currentTime):R.type===Ma.Cb&&
R.element.needsUpdate&&(R.M.hd(R.element.arrayBuffer),R.element.needsUpdate=!1);switch(na.cutShader){case "median":H.Da="s54";break;default:H.Da="s53"}break;case Xa.kd:if(!R.sa){H.H=c.size.width;H.S=c.size.height;switch(na.cutShader){case "IOS":H.Da="s56";A.L("s56",[{name:"u8",type:"2f",value:[1/H.H,1/H.S]}]);break;default:H.Da="s53"}Lb(null);Va()}R.M.hd(c.buffer)}a||(a=xb.Ud()+fa.jb[0],xb.ed());return a}function Ob(a,c){U.M.ea();A.set(H.Da);Ta&&W.Ea&&A.T("u37",qa===ha.Na?Ea:0);R.M.i(0);A.pb("u41",
U.o);aa.m(!1,!1);wb=a===c-1}function Pb(){Ca.Ie();Ya&&(b.viewport(0,0,ta.width,ta.height),A.set("s55"),R.M.i(0),A.pb("u41",U.o),aa.m(!1,!1),Qb&&b.commit?b.commit():b.flush());return ma}var Pa={tf:function(a){return Math.ceil(Math.log2(a))},Nf:function(a){return Math.log2(a)},Lf:function(a){return 0===Math.log2(a)%1},Se:function(a){var c=[0,0,0,0];a.forEach(function(d){c[0]+=d[0];c[1]+=d[1];c[2]+=d[2];c[3]+=d[3]});return c},Ba:function(a,c,d){return Math.min(Math.max(a,c),d)},Ve:function(a){return a*
Math.PI/180},Tf:function(a,c){c=Math.pow(10,c);return Math.round(a*c)/c},Uf:function(a){return Math.round(1E6*a)/1E6},uf:function(a,c){return(100*a/c).toFixed(3)},Of:function(a,c,d){return a*(1-d)+c*d},Pf:function(a,c){return a[0]*(1-c)+a[1]*c},Cd:function(a,c){return Pa.vd(a-c)},vd:function(a){for(;a>Math.PI;)a-=2*Math.PI;for(;a<=-Math.PI;)a+=2*Math.PI;return a},$e:function(a,c){return Math.abs(Pa.Cd(a,c))},Le:function(a,c){return Math.atan2(Math.sin(a)+Math.sin(c),Math.cos(a)+Math.cos(c))}},mb=
{get:function(a,c,d){var e=new XMLHttpRequest;e.open("GET",a,!0);e.withCredentials=!1;e.onreadystatechange=function(){4===e.readyState&&(200===e.status||0===e.status?c(e.responseText):"undefined"!==typeof d&&d(e.status))};e.send()},vf:function(a){return new Promise(function(c,d){mb.get(a,c,d)})},rf:function(a,c,d){a+=d?"?"+mb.Hd(d):"";mb.get(a,function(e){c(JSON.parse(e))})},Qf:function(a,c,d){var e=new XMLHttpRequest;e.open("POST",a,!0);e.setRequestHeader("Content-type","application/x-www-form-urlencoded");
e.onreadystatechange=function(){4!==e.readyState||200!==e.status&&0!==e.status||d(e.responseText)};e.send(c)},Hd:function(a){return"string"===typeof a?a:Object.keys(a).map(function(c){return encodeURIComponent(c)+"="+encodeURIComponent(a[c])}).join("&")},cf:function(a,c){var d=new XMLHttpRequest;d.open("POST",a,!0);d.responseType="arraybuffer";d.onload=function(){c(d.response)};d.send()}},cc={create:function(a,c){for(var d=Array(c),e=0;e<c;++e)d[e]=a;return d},We:function(a,c){for(var d=0;d<a.length;++d)c[d]=
a[d]},clone:function(a){for(var c=Array(a.length),d=0;d<a.length;++d)c[d]=a[d];return c},Xf:function(a,c,d){a.forEach(function(e,n){c[n]=e*d})},hg:function(a){for(var c=a.length-1;0<c;--c){var d=Math.floor(Math.random()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}},ig:function(a){return a.sort(function(c,d){return c-d})},Ge:function(a){return Array.isArray(a)||a.constructor===Float32Array||a.constructor===Uint8Array}},yb={Ab:function(a,c){if(0===c||"object"!==typeof a)return a;a=Object.assign({},a);c=void 0===
c||-1===c?-1:c-1;for(var d in a)a[d]=yb.Ab(a[d],c);return a},Ze:function(a){return JSON.parse(JSON.stringify(a))}},dc={Ld:function(a,c,d){switch(a){case "relu":return d+"=max(vec4(0.,0.,0.,0.),"+c+");";case "elu":return d+"=mix(exp(-abs("+c+"))-vec4(1.,1.,1.,1.),"+c+",step(0.,"+c+"));";case "elu01":return d+"=mix(0.1*exp(-abs("+c+"))-vec4(0.1,0.1,0.1,0.1),"+c+",step(0.,"+c+"));";case "arctan":return d+"=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";default:return!1}}},
A=function(){function a(q,m,z){m=q.createShader(m);q.shaderSource(m,z);q.compileShader(m);return q.getShaderParameter(m,q.COMPILE_STATUS)?m:!1}function c(q,m,z){m=a(q,q.VERTEX_SHADER,m);z=a(q,q.FRAGMENT_SHADER,z);q===b&&p.push(m,z);var O=q.createProgram();q.attachShader(O,m);q.attachShader(O,z);q.linkProgram(O);return O}function d(q){return["float","sampler2D","int"].map(function(m){return"precision "+q+" "+m+";\n"}).join("")}function e(q,m){m.C=m.C?!0:!1;if(!m.C){m.va=m.va||"precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}";
m.mc=m.mc||["a0"];m.xb=m.xb||[2];m.precision=m.precision||F;m.id=v++;void 0!==m.ad&&(m.ad.forEach(function(f,G){m.g=m.g.replace(f,m.ob[G])}),m.ad.splice(0));m.hc=0;m.xb.forEach(function(f){m.hc+=4*f});var z=d(m.precision);m.na=c(q,z+m.va,z+m.g);m.A={};m.j.forEach(function(f){m.A[f]=q.getUniformLocation(m.na,f)});m.attributes={};m.za=[];m.mc.forEach(function(f){var G=q.getAttribLocation(m.na,f);m.attributes[f]=G;m.za.push(G)});if(m.l){q.useProgram(m.na);r=m;k=m.id;for(var O in m.l)q.uniform1i(m.A[O],
m.l[O])}m.sa=!0}}function n(q){xa.Ce(M);k!==q.id&&(M.R(),k=q.id,r=q,b.useProgram(q.na),q.za.forEach(function(m){0!==m&&b.enableVertexAttribArray(m)}))}function l(q,m,z){e(q,m,z);q.useProgram(m.na);q.enableVertexAttribArray(m.attributes.a0);k=-1;return r=m}function t(){return{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",j:["u1"],l:{u1:0}}}var p=[],k=-1,r=null,v=0,E=!1,F="highp",u=["u1"],B=["u0"],C={u1:0},g={u0:0},L={u1:0,u2:1},D={u3:0},h={s0:t(),s1:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
j:u,l:C,precision:"lowp"},s2:{g:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",j:["u1","u2"],l:L},s3:{g:"uniform sampler2D u1;uniform vec2 u4,u5;varying vec2 vv0;void main(){vec2 a=vv0*u4+u5;gl_FragColor=texture2D(u1,a);}",j:["u1","u4","u5"],l:C,C:!0},s4:{g:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",j:u,l:C},s5:{g:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",
j:["u1","u2"],l:L},s6:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",j:u,l:C},s7:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",j:u,l:C},s8:{g:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u4;}",j:["u0","u4"],l:g},s9:{g:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;const vec4 f=vec4(.25,.25,.25,.25),g=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u4,f);gl_FragColor=b*g;}",
j:["u0","u4"],l:g},s10:{g:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",j:u,l:C},s11:{g:"uniform sampler2D u1,u6;uniform float u7;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u6,vv0);gl_FragColor=mix(b,a,u7*f);}",j:["u1","u6","u7"],l:{u1:0,u6:1}},s12:{g:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u8)+texture2D(u1,vv0+u8*vec2(1.,-1.))+texture2D(u1,vv0+u8*vec2(-1.,-1.))+texture2D(u1,vv0+u8*vec2(-1.,1.)));}",
j:["u1","u8"],l:C},s13:{g:"uniform sampler2D u1;uniform vec4 u9;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u9);gl_FragColor=j(a);}",
j:["u1","u9"],l:C},s14:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",j:B,l:g,C:!0},s15:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",j:B,l:g},s16:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",j:B,l:g},
s17:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",j:B,l:g},s18:{g:"uniform sampler2D u0,u7,u10;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u7,vv0),d=texture2D(u10,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",j:["u0","u7","u10"],l:{u0:0,u7:1,u10:2},C:!0},s19:{g:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",
j:B,l:g},s20:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=log(f+a);gl_FragColor=b;}",j:B,l:g,C:!0},s21:{g:"uniform sampler2D u0,u11;uniform float u12;const vec2 e=vec2(.5,.5);const float f=1e-5;const vec4 g=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u11,e);float b=u12*u12;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",j:["u0","u11","u12"],l:{u0:0,u11:1},C:!0},s22:{g:"uniform sampler2D u1;uniform vec2 u13;varying vec2 vv0;void main(){float a=u13.x*u13.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u13.y),f=floor(u13.x*fract(b*u13.y)),g=(f*u13.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",
j:["u1","u13"],l:C},s23:{g:"uniform sampler2D u14,u15,u16;varying vec2 vv0;void main(){vec4 a=texture2D(u16,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u14,b),f=texture2D(u15,c);gl_FragColor=d*f;}",j:["u14","u15","u16"],l:{u15:0,u14:1,u16:2},C:!0},s24:{g:"uniform float u17,u18;uniform sampler2D u14,u15;varying vec2 vv0;void main(){vec2 c=fract(vv0*u17),a=vv0;float b=u17*u18;a=(.5+floor(b*vv0))/b;vec4 d=texture2D(u14,a),f=texture2D(u15,c);gl_FragColor=d*f;}",j:["u15","u14","u17","u18"],l:{u15:0,u14:1}},
s25:{g:"uniform float u17,u18;uniform sampler2D u14,u15,u19,u20,u21,u22;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 i=vv0*u17,n=floor(i),b=i-n,d=vv0;float j=u17*u18;d=(.5+floor(j*vv0))/j;vec4 o=texture2D(u14,d),h=texture2D(u15,b),c=texture2D(u22,d);c*=255.;vec4 p=texture2D(u19,b),q=texture2D(u20,b),r=texture2D(u21,b),k=step(-g,-c),a=e-k,l=a*step(-e-g,-c);a*=e-l;vec4 m=a*step(-2.*e-g,-c);a*=e-m;vec4 s=a;h=k*h+l*p+m*q+s*r,gl_FragColor=o*h;}",j:"u14 u15 u17 u18 u22 u19 u20 u21".split(" "),
l:{u15:0,u14:1,u22:3,u19:4,u20:5,u21:6},C:!0},s26:{g:"uniform sampler2D u14,u15,u23;uniform float u17,u24,u25,u18;varying vec2 vv0;const vec2 j=vec2(1.,1.),k=vec2(0.,0.);void main(){vec2 b=floor(u24*vv0),c=u24*vv0-b;float d=u17/u24;vec2 f=floor(c*d),g=c*d-f,h=(b+g)/u24;float l=u24*u18/u17;vec2 m=l*f,a=(m+g*u25)/u18;a+=.25/u18;vec2 i=step(a,j)*step(k,a);vec4 n=texture2D(u14,h),o=texture2D(u15,a),p=n*o,q=texture2D(u23,h);gl_FragColor=(p*u25*u25+q)*i.x*i.y;}",j:"u14 u15 u17 u24 u25 u18 u23".split(" "),
l:{u15:0,u14:1,u23:2}},s27:{g:"uniform sampler2D u14,u15;varying vec2 vv0;void main(){vec4 a=texture2D(u14,vv0),b=texture2D(u15,vv0);gl_FragColor=a*b;}",j:["u14","u15"],l:{u15:0,u14:1},C:!0},s28:{g:"uniform sampler2D u1,u23;uniform float u26;varying vec2 vv0;void main(){gl_FragColor=texture2D(u23,vv0)+u26*texture2D(u1,vv0);}",j:["u1","u23","u26"],l:{u1:0,u23:1}},s29:{g:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",
j:u,l:C,precision:"lowp"},s30:{g:"varying vec2 vv0;uniform sampler2D u1;uniform float u27;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u27)).rgb,c=texture2D(u1,vv0+vec2(u27,u27)).rgb,d=texture2D(u1,vv0+vec2(u27,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",j:["u1","u27"],l:C,precision:"lowp"},s31:{g:"varying vec2 vv0;uniform sampler2D u1;uniform float u27;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u27)).rgb,c=texture2D(u1,vv0+vec2(u27,u27)).rgb,d=texture2D(u1,vv0+vec2(u27,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
j:["u1","u27"],l:C,precision:"lowp"},s32:{g:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u28;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u28,vv0.y-u28))*1.,a-=texture2D(u1,vec2(vv0.x-u28,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u28,vv0.y+u28))*1.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y-u28))*1.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y+u28))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u28,vv0.y-u28))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u28))*2.,b-=texture2D(u1,vec2(vv0.x+u28,vv0.y-u28))*1.,b+=texture2D(u1,vec2(vv0.x-u28,vv0.y+u28))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u28))*2.,b+=texture2D(u1,vec2(vv0.x+u28,vv0.y+u28))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",
j:["u1","u2","u28"],l:L,C:!0},s33:{g:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u28;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u28,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",j:["u1","u2","u28"],l:L,C:!0},s34:{g:"uniform sampler2D u3;uniform vec2 u8;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u8*g;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u8*h),d=texture2D(u3,a+u8*i),j=texture2D(u3,a+u8),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",
j:["u3","u8"],l:D},s35:{g:"uniform sampler2D u3;uniform vec2 u8;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u8*k),d=texture2D(u3,a+u8*l),g=texture2D(u3,a+u8),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u8*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u8*m),d=f(a+u8*2.),g=f(a+u8*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",j:["u3","u8"],l:D,C:!0},
s36:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",j:["u1"],l:C,precision:"lowp",C:!0},s37:{g:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u8)+2002./e*texture2D(u1,vv0-2.*u8)+3003./e*texture2D(u1,vv0-u8)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u8)+2002./e*texture2D(u1,vv0+2.*u8)+1001./e*texture2D(u1,vv0+3.*u8);gl_FragColor=a;}",j:["u8","u1"],l:C,precision:"lowp",
C:!0},s38:{g:"uniform sampler2D u1,u11,u29;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u11,vv0),b=texture2D(u29,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",j:["u1","u11","u29"],l:{u1:0,u11:1,u29:2},C:!0}},I={s39:{g:"uniform float u17,u30;uniform sampler2D u14,u15,u23;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u23,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u17,xyTo=floor(vv0*u17+eps2);float weightSize=toSparsity*u17;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u30*(xyPatch-halfFromSparsity))/u17,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u14,uvWeight)*texture2D(u15,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
j:["u17","u14","u15","u23","u30"],ob:["1.1111","gl_FragColor\\*=2.2222;"]},s40:{g:"uniform float u17,u30,u18;uniform sampler2D u14,u15,u23;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u23,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u18,xyTo=floor(vv0*u17+eps2);float weightSize=fromSparsity*u18;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u17;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u30*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u18,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u14,uvWeight)*texture2D(u15,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
j:"u17 u18 u14 u15 u23 u30".split(" "),ob:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},x=null,K=null,M={eb:function(){return E},B:function(){if(!E){x=yb.Ab(h,2);K=yb.Ab(I,2);F="highp";b.getShaderPrecisionFormat&&(b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.MEDIUM_FLOAT),b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.LOW_FLOAT));for(var q in x)e(b,x[q],q);A.set("s0");b.enableVertexAttribArray(0);E=!0}},lc:function(q){q.forEach(function(m){M.kc(m)})},kc:function(q){x[q.id]=q;e(b,q,q.id)},Hc:function(q,
m,z){m||(m=q);x[m]=Object.create(K[q]);x[m].de=!0;K[q].ob&&K[q].ob.forEach(function(O,f){x[m].g=x[m].g.replace(new RegExp(O,"g"),z[f])});e(b,x[m],m)},set:function(q){var m=x[q];m.C&&(m.C=!1,e(b,m,q));n(m)},Ia:function(q){return l(q,t(),"s41")},Yb:function(q){return l(q,{g:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",j:[],precision:F},"s42")},Jd:function(q){return"undefined"===typeof x[q]?!1:x[q].sa},R:function(){-1!==k&&(k=-1,r.za.forEach(function(q){0!==q&&b.disableVertexAttribArray(q)}))},Zb:function(){var q=
0;r.za.forEach(function(m,z){z=r.xb[z];b.vertexAttribPointer(m,z,b.FLOAT,!1,r.hc,q);q+=4*z})},Gd:function(){b.enableVertexAttribArray(0)},Ja:function(){M.qb(b)},qb:function(q){q.vertexAttribPointer(r.za[0],2,q.FLOAT,!1,8,0)},ag:function(q,m){b.uniform1i(r.A[q],m)},T:function(q,m){b.uniform1f(r.A[q],m)},oa:function(q,m,z){b.uniform2f(r.A[q],m,z)},bg:function(q,m){b.uniform2fv(r.A[q],m)},dg:function(q,m){b.uniform3fv(r.A[q],m)},cg:function(q,m,z,O){b.uniform3f(r.A[q],m,z,O)},De:function(q,m,z,O,f){b.uniform4f(r.A[q],
m,z,O,f)},pb:function(q,m){b.uniform4fv(r.A[q],m)},eg:function(q,m){b.uniformMatrix2fv(r.A[q],!1,m)},fg:function(q,m){b.uniformMatrix3fv(r.A[q],!1,m)},gg:function(q,m){b.uniformMatrix4fv(r.A[q],!1,m)},L:function(q,m){M.set(q);m.forEach(function(z){switch(z.type){case "4f":b.uniform4fv(r.A[z.name],z.value);break;case "3f":b.uniform3fv(r.A[z.name],z.value);break;case "2f":b.uniform2fv(r.A[z.name],z.value);break;case "1f":b.uniform1f(r.A[z.name],z.value);break;case "1i":b.uniform1i(r.A[z.name],z.value);
break;case "mat2":b.uniformMatrix2fv(r.A[z.name],!1,z.value);break;case "mat3":b.uniformMatrix3fv(r.A[z.name],!1,z.value);break;case "mat4":b.uniformMatrix4fv(r.A[z.name],!1,z.value)}})},sf:function(){return"lowp"},u:function(){M.R();b.disableVertexAttribArray(0);for(var q in x){var m=x[q];m.sa&&(m.sa=!1,b.deleteProgram(m.na));m.de&&delete x[q]}p.forEach(function(z){b.deleteShader(z)});p.splice(0);v=0;E=!1;r=null;k=-1}};return M}(),b=null,nb=function(){function a(u){console.log("ERROR in ContextFF: ",
u);return!1}function c(){return navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1")}function d(u){function B(){Ga.u();da.reset();g.getExtension("WEBGL_lose_context").loseContext()}if(c())return!1;var C=document.createElement("canvas");C.setAttribute("width",5);C.setAttribute("height",5);var g=null;try{g=C.getContext("webgl2",u)}catch(L){return!1}if(!g)return!1;e(g);da.uc(g);u=da.Bb(g);if(!u.aa&&!u.ba)return B(),!1;u=Ga.pc(g,u);B();return u?!0:!1}function e(u){u.clearColor(0,0,0,0);
u.disable(u.DEPTH_TEST);u.disable(u.BLEND);u.disable(u.DITHER);u.disable(u.STENCIL_TEST);u.disable(u.CULL_FACE);u.GENERATE_MIPMAP_HINT&&u.hint(u.GENERATE_MIPMAP_HINT,u.FASTEST);u.disable(u.SAMPLE_ALPHA_TO_COVERAGE);u.disable(u.SAMPLE_COVERAGE);u.depthFunc(u.LEQUAL);u.clearDepth(1)}var n=null,l=null,t=null,p=null,k=!0,r=null,v=null,E=[],F={F:function(){return n.width},X:function(){return n.height},gf:function(){return n},ef:function(){return b},ca:function(){return k},flush:function(){b.flush()},Cf:function(){Ca.V();
Z.reset();aa.reset();A.R();A.Gd();b.disable(b.DEPTH_TEST);b.disable(b.BLEND);aa.Oa();A.Ja()},Nd:function(){r||(r=new Uint8Array(n.width*n.height*4));b.readPixels(0,0,n.width,n.height,b.RGBA,b.UNSIGNED_BYTE,r);return r},jf:function(){return n.toDataURL("image/jpeg")},kf:function(){Ca.U();l||(l=document.createElement("canvas"),t=l.getContext("2d"));l.width=n.width;l.height=n.height;for(var u=F.Nd(),B=t.createImageData(l.width,l.height),C=l.width,g=l.height,L=B.data,D=0;D<g;++D)for(var h=g-D-1,I=0;I<
C;++I){var x=4*(D*C+I),K=4*(h*C+I);L[x]=u[K];L[x+1]=u[K+1];L[x+2]=u[K+2];L[x+3]=u[K+3]}t.putImageData(B,0,0);return l.toDataURL("image/png")},hf:function(u){!l&&u&&(l=document.createElement("canvas"),t=l.getContext("2d"));var B=u?l:document.createElement("canvas");B.width=n.width;B.height=n.height;(u?t:B.getContext("2d")).drawImage(n,0,0);return B},B:function(u){u=Object.assign({Ib:null,Sb:null,Sa:null,sc:null,width:512,height:512,premultipliedAlpha:!1,ae:!0,antialias:!1,debug:!1,Ye:!1},u);u.Ib?(b=
u.Ib,n=u.Ib.canvas):u.sc&&!u.Sa?n=document.getElementById(u.sc):u.Sa&&(n=u.Sa);n||(n=document.createElement("canvas"));n.width=u.width;n.height=u.height;if(b)k=b instanceof WebGL2RenderingContext;else{k=!0;var B={antialias:u.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:u.premultipliedAlpha,stencil:!1,depth:u.ae,failIfMajorPerformanceCaveat:!0,powerPreference:"high-performance"};navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&(B.antialias=!1);var C=
d(B);C||!B.antialias||c()||(B.antialias=!1,C=d(B));C&&(b=n.getContext("webgl2",B));b?k=!0:((b=n.getContext("webgl",B))||(b=n.getContext("experimental-webgl",B)),k=!1)}if(!b)return a("WebGL1 and 2 are not enabled");u.Sb&&n.addEventListener&&(p=b.getExtension("WEBGL_lose_context"))&&(v=u.Sb,n.addEventListener("webglcontextlost",v,!1));if(!da.B())return a("Not enough GL capabilities");e(b);A.B();aa.B();Ga.pc(b,da.Md());E.forEach(function(g){g(b)});E.splice(0);return!0},Pe:function(){return new Promise(function(u){b?
u(b):E.push(u)})},u:function(){b&&(da.u(),A.u(),Ga.u());p&&v&&(n.removeEventListener("webglcontextlost",v,!1),p=v=null);b=r=t=l=n=null;E.splice(0)}};return F}(),xa=function(){function a(){null===c&&("undefined"!==typeof A?c=A:"undefined"!==typeof JEShaders&&(c=JEShaders))}var c=null;return{reset:function(){c=null},Ce:function(d){c!==d&&(c&&c.R(),c=d)},eb:function(){return c.eb()},Ja:function(){return c.Ja()},qb:function(d){return c.qb(d)},Zb:function(){return c.Zb()},R:function(){return c.R()},set:function(d){a();
return c.set(d)},Ia:function(d){a();return c.Ia(d)},Yb:function(d){a();return c.Yb(d)}}}(),Oa=function(){function a(f){b.bindTexture(b.TEXTURE_2D,f)}function c(f){q[0]=f;f=m[0];var G=f>>16&32768,J=f>>12&2047,P=f>>23&255;return 103>P?G:142<P?G|31744|((255==P?0:1)&&f&8388607):113>P?(J|=2048,G|(J>>114-P)+(J>>113-P&1)):G=(G|P-112<<10|J>>1)+(J&1)}function d(f){var G=new Uint16Array(f.length);f.forEach(function(J,P){G[P]=c(J)});return G}function e(){if(null!==z.Jb)return z.Jb;var f=l(d([.5,.5,.5,.5]),!0);
return null===f?!0:z.Jb=f}function n(){if(null!==z.Kb)return z.Kb;var f=l(new Uint8Array([127,127,127,127]),!1);return null===f?!0:z.Kb=f}function l(f,G){if(!xa.eb()||!C)return null;var J=null,P=Math.sqrt(f.length/4);try{var ba=b.getError();if("FUCKING_BIG_ERROR"===ba)return!1;J=O.instance({isFloat:!1,P:G,array:f,width:P});ba=b.getError();if(ba!==b.NO_ERROR)return!1}catch(ya){return!1}oa.U();b.viewport(0,0,P,P);b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);xa.set("s0");J.nc(0);pa.m(!0,!0);f=4*
P*P;G=new Uint8Array(f);b.readPixels(0,0,P,P,b.RGBA,b.UNSIGNED_BYTE,G);P=!0;for(ba=0;ba<f;++ba)P=P&&3>Math.abs(G[ba]-127);J.remove();oa.V();return P}var t=0,p=null,k=0,r=null,v=null,E=null,F=null,u=null,B=null,C=!1,g=[],L={isFloat:!1,isPot:!0,isLinear:!1,isMipmap:!1,isAnisotropicFiltering:!1,isMirrorX:!1,isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,D:null,Gc:null,ce:!1,P:!1,ja:null,hb:4,Ob:0},D=!1,h=null,I=null,x=[[1,0,0,0],[0,1,0,0],[0,0,1,0],
[0,0,0,1]],K=!1,M=!1,q=new Float32Array(1),m=new Int32Array(q.buffer),z={Jb:null,Kb:null},O={B:function(){C||(u=[b.RGBA,null,b.RGBA,b.RGBA],B=[b.RGBA,null,b.RGBA,b.RGBA],p=[b.TEXTURE0,b.TEXTURE1,b.TEXTURE2,b.TEXTURE3,b.TEXTURE4,b.TEXTURE5,b.TEXTURE6,b.TEXTURE7],K="undefined"!==typeof JEContext,M="undefined"!==typeof da,K&&JEContext.Mf()&&p.push(b.TEXTURE8,b.TEXTURE9),r=[-1,-1,-1,-1,-1,-1,-1,-1],F=[b.UNSIGNED_BYTE,b.FLOAT,b.FLOAT],C=!0)},Yd:function(){if(!v){for(var f=new Float32Array(16384),G=0;16384>
G;++G)f[G]=2*Math.random()-1;v={random:O.instance({isFloat:!0,isPot:!0,array:f,width:64}),gd:O.instance({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}O.Ke()},Af:function(){return v.gd},Ke:function(){F[1]=da.Fb(b)},Ae:function(){B=u=[b.RGBA,b.RGBA,b.RGBA,b.RGBA]},Xc:function(f){A.set("s1");oa.U();var G=f.F(),J=f.X();b.viewport(0,0,G,J);f.i(0);pa.m(!1,!1)},Rf:function(f,G){O.Xc(f);b.readPixels(0,0,f.F(),f.X(),b.RGBA,b.UNSIGNED_BYTE,G)},Sf:function(f,G){O.Xc(f);return da.Xb(0,0,f.F(),
f.X(),G)},Bc:function(f,G,J,P,ba,ya,za){f.activeTexture(f.TEXTURE0);var Ha=f.createTexture();f.bindTexture(f.TEXTURE_2D,Ha);ba=ba instanceof Float32Array?ba:new Float32Array(ba);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST);f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,ya);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,
J,P,0,f.RGBA,f.FLOAT,ba);f.bindTexture(f.TEXTURE_2D,null);f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,!1);za&&(oa.V(),A.Ia(f));f.viewport(0,0,J,P);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,G,0);f.bindTexture(f.TEXTURE_2D,Ha);za?pa.m(!0,!0):aa.Wa(f);f.deleteTexture(Ha);C&&(r[0]=-1,E=null,t=0)},wb:function(f){f!==t&&(b.activeTexture(p[f]),t=f)},instance:function(f){var G;function J(){S=void 0!==w.D.videoWidth?w.D.videoWidth:w.D.width;T=void 0!==w.D.videoHeight?w.D.videoHeight:w.D.height}
function P(y){var Q=b.getError();if("FUCKING_BIG_ERROR"===Q)return!1;b.texImage2D(b.TEXTURE_2D,0,ka,ia,ja,y);Q=b.getError();Q!==b.NO_ERROR&&ia!==b.RGBA&&(ia=b.RGBA,b.texImage2D(b.TEXTURE_2D,0,ka,ia,ja,y));return!0}function ba(){if(!Rb){a(ua);Da&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,Da);w.isPot?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,w.isMirrorX?b.MIRRORED_REPEAT:b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,w.isMirrorY?b.MIRRORED_REPEAT:b.REPEAT)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,
b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE));w.isAnisotropicFiltering&&"undefined"!==typeof JESETTINGS&&b.texParameterf(b.TEXTURE_2D,JEContext.mf().TEXTURE_MAX_ANISOTROPY_EXT,JESETTINGS.Me);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,w.isLinear?b.LINEAR:b.NEAREST);w.isLinear?b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,w.isMipmap&&!Ra?b.NEAREST_MIPMAP_LINEAR:b.LINEAR):b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,w.isMipmap&&!Ra?b.NEAREST_MIPMAP_NEAREST:
b.NEAREST);ia=u[w.hb-1];ka=B[w.hb-1];ja=F[zb];if(da.ca()){var y=da.Od();ia===b.RGBA&&ja===b.FLOAT?w.isMipmap||w.isLinear?ka=Ga.Qd(b):da.qc()?y&&(ka=y):ka=b.RGBA16F||b.RGBA:ia===b.RGB&&ja===b.FLOAT&&y&&(ka=y,ia=b.RGBA)}if(w.P&&!w.isFloat||w.isFloat&&w.isMipmap&&Ga.ge())ka=da.Pd(),ja=da.Fb(b);w.Ob&&(ob=w.Ob);w.isSrgb&&4===w.hb&&(ia=JEContext.yf());if(w.D)P(w.D);else if(w.url)P(Na);else if(va){y=va;try{"FUCKING_BIG_ERROR"!==b.getError()&&(b.texImage2D(b.TEXTURE_2D,0,ka,S,T,0,ia,ja,y),b.getError()!==
b.NO_ERROR&&(b.texImage2D(b.TEXTURE_2D,0,ka,S,T,0,ia,ja,null),b.getError()!==b.NO_ERROR&&b.texImage2D(b.TEXTURE_2D,0,b.RGBA,S,T,0,b.RGBA,b.UNSIGNED_BYTE,null)))}catch(pc){b.texImage2D(b.TEXTURE_2D,0,ka,S,T,0,ia,ja,null)}w.isKeepArray||(va=null)}else y=b.getError(),"FUCKING_BIG_ERROR"!==y&&(b.texImage2D(b.TEXTURE_2D,0,ka,S,T,0,ia,ja,null),y=b.getError(),y!==b.NO_ERROR&&(ia=b.RGBA,w.P&&ja!==b.FLOAT&&(ja=b.FLOAT,b.texImage2D(b.TEXTURE_2D,0,ka,S,T,0,ia,ja,null))));if(w.isMipmap)if(!Ra&&ca)ca.Eb(),pb=
!0;else if(Ra){y=Math.log2(Math.min(S,T));Za=Array(1+y);Za[0]=ua;for(var Q=1;Q<=y;++Q){var la=Math.pow(2,Q),X=S/la;la=T/la;var Sa=b.createTexture();a(Sa);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texImage2D(b.TEXTURE_2D,0,ka,X,la,0,ia,ja,null);a(null);Za[Q]=Sa}pb=!0}a(null);r[t]=-1;Da&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1);db=!0;w.ja&&ca&&(w.ja(ca),w.ja=null)}}function ya(){for(var y=S*T,Q=2*y,la=3*y,X=0;X<y;++X)Aa[0][X]=
eb[X],Aa[1][X]=eb[X+y],Aa[2][X]=eb[X+Q],Aa[3][X]=eb[X+la]}function za(){var y=S*T*4;Ia=[new Uint8Array(y),new Uint8Array(y),new Uint8Array(y),new Uint8Array(y)];Aa=[new Float32Array(Ia[0].buffer),new Float32Array(Ia[1].buffer),new Float32Array(Ia[2].buffer),new Float32Array(Ia[3].buffer)];qb=new Uint8Array(4*y);eb=new Float32Array(qb.buffer);fb=!0}function Ha(){G=new Uint8Array(S*T*4);Sb=new Float32Array(G.buffer);Ab=!0}var w=Object.assign({},L,f),gb=k++;null===w.isFlipY&&(w.isFlipY=w.url?!0:!1);
w.data&&(w.array="string"===typeof w.data?wa(w.data):w.isFloat?new Float32Array(w.data):new Uint8Array(w.data),w.isFlipY=!1);var zb=0,Tb=w.D?!0:!1,hb=null,Bb=null,Ub=!1;w.P=w.P||w.isFloat;w.P&&(zb=1);!w.ce&&w.isFloat&&M&&!da.qc()&&(w.isFloat=!1);w.isFloat&&(zb=2);w.isAnisotropicFiltering&&K&&!JEContext.Ff()&&(w.isAnisotropicFiltering=!1);var ua=w.Gc||b.createTexture(),Na=null,va=!1,S=0,T=0,db=!1,Rb=!1,fb=!1,Aa=null,Ia=null,qb=null,eb=null,ka=null,ia=null,ja=null,Da=w.isFlipY,ec=(f=w.P&&w.isMipmap)&&
Ga.sd(),Ra=f&&ec?!0:!1,Za=null,ob=-1,pb=!1;var Ab=!1;var Sb=G=null;w.width&&(S=w.width,T=w.height?w.height:S);var ca={get:function(){return ua},F:function(){return S},X:function(){return T},Bf:function(){return w.url},Gf:function(){return w.isFloat},If:function(){return w.P},Jf:function(){return w.isLinear},Eb:function(){b.generateMipmap(b.TEXTURE_2D)},qd:function(y,Q){Ra?(y||(y=ca.Fc()),O.wb(Q),a(Za[y]),r[Q]=-1):ca.i(Q)},Fc:function(){-1===ob&&(ob=Math.log(S)/Math.log(2));return ob},Kd:function(y){if(Ra){y||
(y=ca.Fc());A.set("s12");O.wb(0);for(var Q=S,la=T,X=1;X<=y;++X)Q/=2,la/=2,A.oa("u8",.25/Q,.25/la),b.viewport(0,0,Q,la),a(Za[X-1]),b.framebufferTexture2D(oa.Za(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,Za[X],0),pa.m(!1,1===X);r[0]=-1}else ca.Eb()},$f:function(y){(Tb=!cc.Ge(y))?(va=null,w.D=y,J()):va=y},i:function(y){if(!db)return!1;O.wb(y);if(r[y]===gb)return!1;a(ua);r[y]=gb;return!0},nc:function(y){b.activeTexture(p[y]);t=y;a(ua);r[y]=gb},v:function(){E=ca;b.framebufferTexture2D(oa.Za(),b.COLOR_ATTACHMENT0,
b.TEXTURE_2D,ua,0)},ea:function(){E=ca;b.viewport(0,0,S,T);b.framebufferTexture2D(oa.Za(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,ua,0)},fc:O.fc,ye:function(y,Q){S=y;T=Q},resize:function(y,Q){ca.ye(y,Q);ba()},clone:function(y){y=O.instance({width:S,height:T,P:w.P,isFloat:w.isFloat,isLinear:w.isLinear,isMirrorY:w.isMirrorY,isFlipY:y?!Da:Da,isPot:w.isPot});xa.set("s0");oa.V();y.v();b.viewport(0,0,S,T);ca.i(0);pa.m(!0,!0);return y},Ee:function(){b.viewport(0,0,S,T)},remove:function(){b.deleteTexture(ua);Rb=
!0;g.splice(g.indexOf(ca),1);ca=null},refresh:function(){ca.nc(0);Da&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);Tb?b.texImage2D(b.TEXTURE_2D,0,ka,ia,ja,w.D):b.texImage2D(b.TEXTURE_2D,0,ka,S,T,0,ia,ja,va);Da&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},Wc:function(){fb||za();b.readPixels(0,0,S,4*T,b.RGBA,b.UNSIGNED_BYTE,qb);ya();return Aa},te:function(){fb||za();return da.Xb(0,0,S,4*T,qb).then(function(){ya();return Aa})},ve:function(){Ab||Ha();b.readPixels(0,0,S,T,b.RGBA,b.UNSIGNED_BYTE,G);return Sb},
ue:function(){Ab||Ha();return da.Xb(0,0,S,T,G)},tc:function(y){oa.U();A.set("s13");ca.i(0);if(y)b.viewport(0,0,S,T),A.De("u9",.25,.25,.25,.25),pa.m(!1,!0);else for(y=0;4>y;++y)b.viewport(0,T*y,S,T),A.pb("u9",x[y]),pa.m(!1,0===y)},hd:function(y){var Q=ja===F[0]&&!n();a(ua);Da&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);Q?(Ub||(hb=document.createElement("canvas"),hb.width=S,hb.height=T,Bb=hb.getContext("2d"),Bb.createImageData(S,T),Ub=!0),null.data.set(y),Bb.putImageData(null,0,0),b.texImage2D(b.TEXTURE_2D,
0,ka,ia,ja,hb)):b.texImage2D(b.TEXTURE_2D,0,ka,S,T,0,ia,ja,y);r[t]=gb;Da&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},ng:function(y,Q){a(ua);Q&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);b.texImage2D(b.TEXTURE_2D,0,ka,ia,ja,y);r[t]=gb;Q&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},Yf:function(y,Q){var la=S*T,X=4*la;y=w.P?y?"RGBE":"JSON":"RGBA";Q&&(y=Q);Q=da.ca()&&!1;var Sa=null;switch(y){case "RGBE":Sa="s43";break;case "JSON":Sa=Q?"s0":"s13";break;case "RGBA":case "RGBAARRAY":Sa="s7"}fb||("RGBA"===y||"RGBE"===
y||"RGBAARRAY"===y?(Ia=new Uint8Array(X),fb=!0):"JSON"!==y||Q||za());oa.U();A.set(Sa);ca.i(0);X=null;if("RGBA"===y||"RGBE"===y||"RGBAARRAY"===y){b.viewport(0,0,S,T);pa.m(!0,!0);b.readPixels(0,0,S,T,b.RGBA,b.UNSIGNED_BYTE,Ia);if("RGBAARRAY"===y)return{data:Ia};D||(h=document.createElement("canvas"),I=h.getContext("2d"),D=!0);h.width=S;h.height=T;la=I.createImageData(S,T);la.data.set(Ia);I.putImageData(la,0,0);X=h.toDataURL("image/png")}else if("JSON"===y)if(Q)X=new Float32Array(la),b.viewport(0,0,
S,T),pa.m(!0,!0),b.readPixels(0,0,S,T,b.RGBA,b.FLOAT,X);else{for(X=0;4>X;++X)b.viewport(0,T*X,S,T),A.pb("u9",x[X]),pa.m(!X,!X);ca.Wc();X=Array(la);for(Q=0;Q<la;++Q)X[4*Q]=Aa[0][Q],X[4*Q+1]=Aa[1][Q],X[4*Q+2]=Aa[2][Q],X[4*Q+3]=Aa[3][Q]}return{format:y,data:X,width:S,height:T,isMirrorY:w.isMirrorY,isFlipY:"RGBA"===y?w.isFlipY:!w.isFlipY}}};w.isMipmap&&!Ra&&db&&!pb&&(ca.Eb(),pb=!0);if(w.url)a(ua),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,1,1,0,b.RGBA,b.UNSIGNED_BYTE,null),Na=new Image,Na.Xe="Anonymous",Na.crossOrigin=
"Anonymous",Na.src=w.url,Na.onload=function(){S=Na.width;T=Na.height;ba()};else if(w.D){var Vb=function(){J();S?ba():setTimeout(Vb,1)};Vb()}else w.array?(w.P&&!w.isFloat?w.array instanceof Uint16Array?(va=w.array,ba()):e()?(va=d(w.array),ba()):(ba(),O.Bc(b,ua,ca.F(),ca.X(),w.array,Da,!0)):(va=w.isFloat?w.array instanceof Float32Array?w.array:new Float32Array(w.array):w.array instanceof Uint8Array?w.array:new Uint8Array(w.array),ba()),w.isKeepArray||(va&&va!==w.array&&(va=null),delete w.array)):w.Gc?
db=!0:ba();ca.xf=ca.F;w.ja&&db&&(w.ja(ca),w.ja=null);g.push(ca);return ca},U:function(f){f!==t&&(b.activeTexture(p[f]),t=f);r[f]=-1;a(null)},Oe:function(f){v.random.i(f)},fc:function(){E=null;b.framebufferTexture2D(oa.Za(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0)},reset:function(){0!==t&&b.activeTexture(p[0]);for(var f=0;f<p.length;++f)r[f]=-1;t=-1},Vf:function(){t=-1},He:function(){for(var f=0;f<p.length;++f)O.U(f)},Dc:function(){v&&(v.random.remove(),v.gd.remove())},lg:function(f,G){if("RGBA"===
f.format||"RGBE"===f.format){var J=new Image;J.src=f.data;J.onload=function(){O.instance({isMirrorY:f.isMirrorY,isFlipY:f.isFlipY,isFloat:!1,D:J,ja:function(P){if("RGBA"===f.format)G(P);else{var ba=f.width,ya=f.height,za=O.instance({isMirrorY:f.isMirrorY,isFloat:!0,width:ba,height:ya,isFlipY:f.isFlipY});oa.V();b.viewport(0,0,ba,ya);A.set("s44");za.v();P.i(0);pa.m(!0,!0);O.U(0);G(za);da.flush();setTimeout(P.remove,50)}}})}}else"JSON"===f.format?G(O.instance({isFloat:!0,isFlipY:f.isFlipY,width:f.width,
height:f.height,array:new Float32Array(f.data)})):G(!1)},wd:d,u:function(){E&&(Ca.V(),O.fc(),Ca.U());O.He();g.slice(0).forEach(function(f){f.remove()});g.splice(0);C=!1;k=0;"undefined"!==typeof Ga&&Ga.u();v=null}};return O}(),pa=function(){function a(k){var r={Z:null,K:null};r.Z=k.createBuffer();k.bindBuffer(k.ARRAY_BUFFER,r.Z);k.bufferData(k.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),k.STATIC_DRAW);r.K=k.createBuffer();k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,r.K);k.bufferData(k.ELEMENT_ARRAY_BUFFER,
new Uint16Array([0,1,2]),k.STATIC_DRAW);return r}var c=null,d=0,e=!1,n=[],l=-2,t=-2,p={reset:function(){t=l=-2},B:function(){e||(c=a(b),p.Oa(),e=!0)},instance:function(k){var r=d++,v=k.K?k.K.length:0,E="undefined"===typeof k.mode?b.STATIC_DRAW:k.mode,F=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,F);b.bufferData(b.ARRAY_BUFFER,k.Z instanceof Float32Array?k.Z:new Float32Array(k.Z),E);l=r;var u=null,B=null,C=null;if(k.K){u=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,u);var g=null;65536>k.K.length?
(g=Uint16Array,B=b.UNSIGNED_SHORT,C=2):(g=Uint32Array,B=b.UNSIGNED_INT,C=4);g=k.K instanceof g?k.K:new g(k.K);b.bufferData(b.ELEMENT_ARRAY_BUFFER,g,E);t=r}var L={rd:function(D){l!==r&&(b.bindBuffer(b.ARRAY_BUFFER,F),l=r);D&&xa.Zb()},od:function(){t!==r&&(b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,u),t=r)},bind:function(D){L.rd(D);L.od()},af:function(){b.drawElements(b.TRIANGLES,v,B,0)},bf:function(D,h){b.drawElements(b.TRIANGLES,D,B,h*C)},remove:function(){b.deleteBuffer(F);k.K&&b.deleteBuffer(u);L=null}};
n.push(L);return L},Oa:function(){-1!==l&&(b.bindBuffer(b.ARRAY_BUFFER,c.Z),l=-1);-1!==t&&(b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,c.K),t=-1)},m:function(k,r){k&&pa.Oa();r&&xa.Ja();b.drawElements(b.TRIANGLES,3,b.UNSIGNED_SHORT,0)},Wa:function(k){k=k||b;var r=a(k);k.bindBuffer(k.ARRAY_BUFFER,r.Z);k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,r.K);xa.qb(k);k.clear(k.COLOR_BUFFER_BIT);k.drawElements(k.TRIANGLES,3,k.UNSIGNED_SHORT,0);k.flush();k.bindBuffer(k.ARRAY_BUFFER,null);k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,null);
k.deleteBuffer(r.Z);k.deleteBuffer(r.K);p.reset();e&&(p.Oa(),xa.Ja())},Dc:function(){var k=b,r=c;k.deleteBuffer(r.Z);k.deleteBuffer(r.K)},u:function(){p.Dc();n.forEach(function(k){k.remove()});b.bindBuffer(b.ARRAY_BUFFER,null);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,null);p.reset();e=!1;n.splice(0);d=0}};return p}(),oa=function(){var a=null,c=null,d=null,e=!1,n=[],l={J:-2,Ac:1},t={eb:function(){return e},B:function(){if(!e){a=b.createFramebuffer();var p=da.ca();c=p&&b.DRAW_FRAMEBUFFER?b.DRAW_FRAMEBUFFER:
b.FRAMEBUFFER;d=p&&b.READ_FRAMEBUFFER?b.READ_FRAMEBUFFER:b.FRAMEBUFFER;e=!0}},pf:function(){return c},Rd:function(){return d},Za:function(){return b.FRAMEBUFFER},wf:function(){return l},df:function(){return a},instance:function(p){void 0===p.Kc&&(p.Kc=!1);var k=p.M?p.M:null,r=p.width,v=void 0!==p.height?p.height:p.width,E=a,F=null,u=!1,B=!1,C=0;k&&(r=r?r:k.F(),v=v?v:k.X());var g={bd:function(){u||(E=b.createFramebuffer(),u=!0,C=l.Ac++)},md:function(){g.bd();g.v();F=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,
F);b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,r,v);b.framebufferRenderbuffer(c,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,F);b.clearDepth(1)},bind:function(L,D){C!==l.J&&(b.bindFramebuffer(c,E),l.J=C);k&&k.v();D&&b.viewport(0,0,r,v);L&&b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT)},Ne:function(){C!==l.J&&(b.bindFramebuffer(c,E),l.J=C)},clear:function(){b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT)},Te:function(){b.clear(b.COLOR_BUFFER_BIT)},Ue:function(){b.clear(b.DEPTH_BUFFER_BIT)},Ee:function(){b.viewport(0,
0,r,v)},v:function(){C!==l.J&&(b.bindFramebuffer(c,E),l.J=C)},rtt:function(L){k=L;l.J!==C&&(b.bindFramebuffer(b.FRAMEBUFFER,E),l.J=C);L.v()},U:function(){b.bindFramebuffer(c,null);l.J=-1},resize:function(L,D){r=L;v=D;F&&(b.bindRenderbuffer(b.RENDERBUFFER,F),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,r,v))},remove:function(){E===a||B||(b.bindFramebuffer(c,E),b.framebufferTexture2D(c,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),F&&b.framebufferRenderbuffer(c,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,
null),b.bindFramebuffer(c,null),b.deleteFramebuffer(E),F&&b.deleteRenderbuffer(F));B=!0}};p.Kc&&g.md();n.push(g);return g},U:function(){b.bindFramebuffer(c,null);l.J=-1},Ie:function(){b.bindFramebuffer(c,null);b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);da.cd();l.J=-1},reset:function(){l.J=-2},V:function(){0!==l.J&&(b.bindFramebuffer(c,a),l.J=0)},clear:function(){da.cd();b.clear(b.COLOR_BUFFER_BIT)},u:function(){t.U();n.forEach(function(p){p.remove()});null!==a&&(b.deleteFramebuffer(a),a=null);
t.reset();e=!1;n.splice(0);l.Ac=1}};return t}(),da=function(){function a(){p="undefined"===typeof nb?JEContext:nb;k=!0}function c(h,I){for(var x=0;x<h.length;++x){var K=I.getExtension(h[x]);if(K)return K}return null}function d(){null!==g.ub&&(clearTimeout(g.ub),g.ub=null);g.ta=!1}function e(h){if(0===g.ka.length){g.la=b.PIXEL_PACK_BUFFER;g.ka.splice(0);g.$a.splice(0);for(var I=0;I<g.Ca;++I)g.ka.push(b.createBuffer()),g.$a.push(-1);g.$=0;g.Qb=0}b.bindBuffer(g.la,g.ka[g.$]);h.byteLength!==g.$a[g.$]&&
(b.bufferData(g.la,h.byteLength,b.STREAM_READ),g.$a[g.$]=h.byteLength);g.Df=!0}function n(){b.bindBuffer(g.la,null)}function l(){g.qa.forEach(function(h){b.deleteSync(h)});g.qa.splice(0)}function t(){g.$=(g.$+1)%g.Ca;++g.Qb}var p=null,k=!1,r={Lc:!1,ac:null,bc:null,Nc:!1,fe:!1,cc:null,Oc:!1,dc:null,Mc:!1,yb:null,Zd:!1,zb:null,$d:!1},v=null,E={aa:!0,ba:!0,Db:!0,Vc:!1},F=null,u=!0,B=null,C=null,g={xd:1,Ca:-1,$:0,Qb:0,ta:!1,ka:[],qa:[],$a:[],la:null,ub:null},L="undefined"===typeof window?{}:window,D=
{B:function(){if(k)return!0;D.reset();k||a();var h=b;if(!v.Lc){v.ac=D.xc(h);L.GL_EXT_FLOAT=v.ac;v.Nc=v.ac?!0:!1;if(v.Nc||D.ca())v.bc=D.yc(h),v.fe=v.bc?!0:!1,L.GL_EXT_FLOATLINEAR=v.bc;v.Lc=!0}if(!v.Mc){v.cc=D.Va(h);v.cc&&(v.Oc=!0,L.GL_EXT_HALFFLOAT=v.cc);if(v.Oc||D.ca())v.dc=D.zc(h),L.GL_EXT_HALFFLOATLINEAR=v.dc;v.Ef=v.dc?!0:!1;v.Mc=!0}v.yb=D.vc(h);v.Zd=v.yb?!0:!1;L.GL_EXT_COLORBUFFERFLOAT=v.yb;v.zb=D.wc(h);v.$d=v.zb?!0:!1;L.GL_EXT_COLORBUFFERHALFFLOAT=v.zb;oa.B();Oa.B();if(!D.zd())return!1;pa.B();
Oa.Yd();return!0},reset:function(){v=Object.assign({},r);F=Object.assign({},E)},F:function(){k||a();return p.F()},X:function(){k||a();return p.X()},ca:function(){k||a();return p.ca()},uc:function(h){D.vc(h);D.wc(h);D.xc(h);D.yc(h);D.Va(h);D.zc(h)},vc:c.bind(null,["EXT_color_buffer_float","WEBGL_color_buffer_float","OES_color_buffer_float"]),wc:c.bind(null,["EXT_color_buffer_half_float","WEBGL_color_buffer_half_float","OES_color_buffer_half_float"]),xc:c.bind(null,["OES_texture_float","MOZ_OES_texture_float",
"WEBKIT_OES_texture_float"]),yc:c.bind(null,["OES_texture_float_linear","MOZ_OES_texture_float_linear","WEBKIT_OES_texture_float_linear"]),Va:c.bind(null,["OES_texture_half_float","MOZ_OES_texture_half_float","WEBKIT_OES_texture_half_float"]),zc:c.bind(null,["OES_texture_half_float_linear","MOZ_OES_texture_half_float_linear","WEBKIT_OES_texture_half_float_linear"]),Fb:function(h){var I=D.Va(h);return I&&I.HALF_FLOAT_OES?I.HALF_FLOAT_OES:h.HALF_FLOAT||h.FLOAT},Od:function(){return C||b.RGBA32F||b.RGBA},
Pd:function(){return B||b.RGBA16F||b.RGBA},Md:function(){return F},qc:function(){return F.aa},Re:function(){return F.ba},Qe:function(){return F.Db},td:function(){return F.Vc&&u},jg:function(h){u=h;!h&&g.ta&&(l(),b.bindBuffer(g.la,null),g.ta=!1)},Kf:function(){return g.ta},rb:function(h,I,x){function K(){h.bindTexture(h.TEXTURE_2D,null);h.bindFramebuffer(M,null);h.deleteTexture(z);h.deleteFramebuffer(m)}var M=h.FRAMEBUFFER,q=h.NEAREST,m=h.createFramebuffer();h.bindFramebuffer(M,m);var z=h.createTexture();
h.activeTexture(h.TEXTURE0);h.bindTexture(h.TEXTURE_2D,z);h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!1);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,q);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,q);h.texImage2D(h.TEXTURE_2D,0,I,3,3,0,h.RGBA,x,null);h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,z,0);if(h.checkFramebufferStatus(h.READ_FRAMEBUFFER||
h.FRAMEBUFFER)!==h.FRAMEBUFFER_COMPLETE)return K(),!1;xa.Yb(h);h.clearColor(0,0,0,0);h.viewport(0,0,3,3);h.disable(h.DEPTH_TEST);h.clear(h.COLOR_BUFFER_BIT);pa.Wa(h);h.bindFramebuffer(M,null);xa.Ia(h);h.activeTexture(h.TEXTURE0);h.bindTexture(h.TEXTURE_2D,z);pa.Wa(h);I=new Uint8Array(36);h.readPixels(0,0,3,3,h.RGBA,h.UNSIGNED_BYTE,I);K();for(x=0;36>x;++x)if(3!==x%4&&3<Math.abs(I[x]-127))return!1;return!0},Bb:function(h){var I={aa:!1,ba:!1};h.disable(h.BLEND);h.clearColor(0,0,0,0);h.clear(h.COLOR_BUFFER_BIT);
h.RGBA32F&&D.rb(h,h.RGBA32F,h.FLOAT)&&(I.aa=!0,C=h.RGBA32F);!I.aa&&D.rb(h,h.RGBA,h.FLOAT)&&(I.aa=!0,C=h.RGBA);var x=D.Fb(h);B=null;h.RGBA16F&&D.rb(h,h.RGBA16F,x)&&(I.ba=!0,B=h.RGBA16F);!I.ba&&D.rb(h,h.RGBA,x)&&(I.ba=!0,B=h.RGBA);return I},Ad:function(){var h=oa.instance({width:2});h.bd();var I=Oa.instance({width:2,isFloat:!0,hb:3});h.v();I.v();D.flush();b.checkFramebufferStatus(oa.Rd())!==b.FRAMEBUFFER_COMPLETE?(Oa.Ae(),F.Db=!1):F.Db=!0;h.remove();I.remove()},Bd:function(){var h=!1;D.ca()&&(h="PIXEL_PACK_BUFFER STREAM_READ SYNC_GPU_COMMANDS_COMPLETE WAIT_FAILED fenceSync deleteSync createBuffer".split(" ").every(function(I){return"undefined"!==
typeof b[I]}));F.Vc=h},zd:function(){var h=D.Bb(b);Object.assign(F,h);if(!F.aa&&!F.ba)return!1;D.Ad();D.Bd();return!0},we:function(h,I,x,K,M){b.readPixels(h,I,x,K,b.RGBA,b.UNSIGNED_BYTE,M);return Promise.resolve(M,!1)},Xb:function(h,I,x,K,M,q,m){if(!D.td())return D.we(h,I,x,K,M);g.Ca=m||g.xd;e(M);b.readPixels(h,I,x,K,b.RGBA,b.UNSIGNED_BYTE,0);g.qa[g.$]=b.fenceSync(b.SYNC_GPU_COMMANDS_COMPLETE,0);D.flush();var z=!1;return new Promise(function(O,f){function G(){if(!g.ta)return d(),n(),t(),f(),!1;var J=
(g.$+1)%g.Ca;switch(b.clientWaitSync(g.qa[J],0,0)){case b.TIMEOUT_EXPIRED:case b.WAIT_FAILED:break;default:return d(),b.deleteSync(g.qa[J]),g.qa[J]=null,b.bindBuffer(g.la,g.ka[J]),b.getBufferSubData(g.la,0,M),n(),t(),O(M,z),!0}g.ub=setTimeout(G,0);return!1}d();g.Qb+1<g.Ca?(n(),t(),O(M,!1)):(g.ta=!0,G()||!q||z||(z=!0,q()))})},cd:function(){b.viewport(0,0,D.F(),D.X())},flush:function(){b.flush()},u:function(){d();l();Oa.u();oa.u();pa.u();g.ka.forEach(function(h){b.deleteBuffer(h)});g.ka.splice(0);xa.reset();
k=!1}};return D}(),aa=pa,Ca=oa,Z=Oa,Ga=function(){function a(x,K,M,q){g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,q?g.NEAREST_MIPMAP_NEAREST:g.LINEAR);var m=null;if(null!==M)try{m=g.getError();if("FUCKING_BIG_ERROR"===m)return!1;g.texImage2D(g.TEXTURE_2D,0,x,4,4,0,g.RGBA,K,M);m=g.getError();if(m!==g.NO_ERROR)return!1}catch(z){return!1}q&&g.generateMipmap(g.TEXTURE_2D);g.clear(g.COLOR_BUFFER_BIT);aa.Wa(g);m=g.getError();if("FUCKING_BIG_ERROR"===m)return!1;g.readPixels(0,0,2,2,g.RGBA,g.UNSIGNED_BYTE,
v);m=g.getError();m===g.INVALID_OPERATION&&"undefined"!==typeof g.PIXEL_PACK_BUFFER&&(g.bindBuffer(g.PIXEL_PACK_BUFFER,null),g.readPixels(0,0,2,2,g.RGBA,g.UNSIGNED_BYTE,v),m=g.getError());if(m!==g.NO_ERROR)return!1;M=!0;for(q=0;16>q;++q)M=M&&4>Math.abs(v[q]-127);M&&(k.Uc=K,k.Jc=x);return M}function c(x,K){return L.aa&&a(x,g.FLOAT,new Float32Array(E),K)?(p=t.jc,!0):!1}function d(x,K,M){if(!L.ba)return!1;var q=Oa.wd(E),m=da.Va(g);if(m&&m.HALF_FLOAT_OES&&a(x,m.HALF_FLOAT_OES,q,K)||g.HALF_FLOAT&&a(x,
g.HALF_FLOAT,q,K))return p=t.wa,!0;q=new Float32Array(E);if(a(x,g.FLOAT,q,K))return p=t.wa,!0;g.bindTexture(g.TEXTURE_2D,M);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,2,2,0,g.RGBA,g.UNSIGNED_BYTE,null);g.bindFramebuffer(k.Ta,I);Oa.Bc(g,M,2,2,q,!1,!1);g.bindFramebuffer(k.Ta,null);g.bindTexture(g.TEXTURE_2D,M);return a(x,null,null,K)?(p=t.wa,!0):!1}function e(x,K,M){r=!0;if(d(x,!0,M)||c(K,!0))return!0;r=!1;return d(x,!1,M)||c(K,!1)?!0:!1}function n(x){if(p===t.R){g=x||b;p=t.RGBA8;r=!0;da.uc(g);L||(L=da.Bb(g));
Ca.reset();I=g.createFramebuffer();k.Ta=g.DRAW_FRAMEBUFFER||g.FRAMEBUFFER;g.bindFramebuffer(k.Ta,null);g.clearColor(0,0,0,0);g.viewport(0,0,2,2);A.R();D=A.Ia(g);x=g.createTexture();g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,x);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.REPEAT);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.REPEAT);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.NEAREST);h=x;var K=x=g.RGBA,M=g.RGBA16F,q=g.RGBA32F;q&&(x=q);M&&(K=M);if((M||q)&&e(K,x,h))return l(),
!0;x=K=g.RGBA;if(e(K,x,h))return l(),!0;p=t.RGBA8;l();return!1}}function l(){g.deleteProgram(D.na);g.deleteTexture(h);h=D=null}for(var t={R:-1,jc:3,wa:2,RGBA8:0},p=t.R,k={Uc:null,Jc:null,Ta:null},r=!0,v=new Uint8Array(16),E=Array(64),F=0;4>F;++F)for(var u=0;4>u;++u){var B=0===(u+F)%2?1:0,C=4*F+u;E[4*C]=B;E[4*C+1]=B;E[4*C+2]=B;E[4*C+3]=B}var g=null,L=null,D=null,h=null,I=null;return{sd:function(x){n(x);return r},pc:function(x,K){p===t.R&&(typeof("undefined"!==K)&&(L=K),n(x));return p!==t.RGBA8},Hf:function(x){n(x);
return p===t.jc},ge:function(x){n(x);return p===t.wa},qf:function(x){n(x);return k.Uc},Qd:function(x){n(x);return k.Jc},u:function(){g=null;r=!0;p=t.R;L=null}}}(),fc=function(){return{instance:function(a){var c=Z.instance(a.alpha),d=Z.instance(a.beta);return{Ed:function(){c.i(1);d.i(2)}}}}}(),Xb=function(){return{instance:function(a){var c=null,d=!1,e=!1,n=null,l=!1,t=!1,p=null,k="undefined"===typeof a.preprocessing?!1:a.preprocessing,r="undefined"===typeof a.preprocessingSize?a.size:a.preprocessingSize;
a.mask&&(d=!0,SETTINGS&&void 0!==SETTINGS.nd&&(a.mask=SETTINGS.nd+a.mask),c=Z.instance({isFloat:!1,url:a.mask}));var v=!1;a.customInputShader&&(v="s45",A.kc({name:"_",id:v,g:a.customInputShader,kg:["uSource"],precision:"lowp"}),A.L(v,[{type:"1i",name:"_",value:0}]));switch(k){case "sobel":p="s32";l=!0;break;case "meanNormalization":p="s33";l=!0;break;case "grayScale":p="s29";l=!1;break;case "grayScaleTilt":p="s30";t=!0;l=!1;break;case "rgbGrayTilt":p="s31";t=!0;l=!1;break;case "copy":p=v?v:"s0";break;
case "inputLightRegulation":p=v?v:"s29";n=gc.instance({Ic:r,Tc:a.size,Qc:a.nBlurPass,cb:!1});e=!0;break;case "inputMix0":p="none";n=hc.instance({H:r,jd:a.varianceMin,oc:a.blurKernelSizePx,gain:a.gain||1,cb:!1});e=!0;break;case "direct":case "none":p="abort";break;default:p="s4"}t&&A.L(p,[{name:"u27",type:"1f",value:a.tilt}]);d&&(p+="Mask");var E=Z.instance({isFloat:!1,isPot:!1,width:a.size}),F={F:function(){return r},Gb:function(){return F.F()},Vd:function(){return e?n.Hb():E},N:function(u){Ca.V();
"abort"!==p&&("none"!==p&&(A.set(p),l&&A.T("u28",1/a.size),E.ea(),d&&c.i(1),aa.m(!1,!1),E.i(0),u=E),e&&n.process(u))},u:function(){E.remove();d&&c.remove()}};return F}}}(),Yb=function(){return{instance:function(a){function c(f){n.forEach(function(G,J){l[J][0]=f[0][G];l[J][1]=f[1][G];l[J][2]=f[2][G];l[J][3]=f[3][G]});return l}a.normalize=a.normalize||!1;var d={input:null,bias:null,Mb:null,Y:null,lb:null,Ub:null,Vb:null},e=null,n=[],l=[],t=!1,p=null,k=!0,r=-1,v=a.isReorganize?a.isReorganize:!1,E=a.kernelsCount?
!0:!1,F=a.dynPelu?fc.instance(a.dynPelu):!1,u=F?!0:!1,B={isEnabled:!1};a.ee?(a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.nb.Gb(),k=!1):"full"===a.connectivityUp&&(a.sparsity=a.nb.Gb());var C={elu:"s16",elu01:"s17",relu:"s15",arctan:"s19",sigmoid:"s14",copy:"s0",softplus:"s20",dynPelu:"s18"}[a.activation],g=a.sparsity*a.sparsity,L=!1,D=a.size,h="";if(a.maxPooling){switch(a.maxPooling.size){case 2:h="s34";break;case 4:h="s35"}L=!0;D/=a.maxPooling.size;d.Ub=Z.instance({isFloat:!0,isPot:!1,
width:D})}var I=a.normalization?!0:!1,x=null,K=null,M=null;if(I){x="s46"+a.index.toString();A.Hc("s46",x,[((a.normalization.n-1)/2).toFixed(1)]);A.L(x,[{type:"1i",name:"u1",value:0},{type:"2f",name:"u8",value:[1/a.size,1/a.size]},{type:"1f",name:"u7",value:a.normalization.alpha},{type:"1f",name:"u10",value:a.normalization.beta},{type:"1f",name:"u31",value:a.normalization.k}]);var q={isFloat:!0,isPot:!0,width:a.size};K=Z.instance(q);M=Z.instance(q)}var m=-1,z=null;k&&(d.Y=Z.instance({isFloat:!0,isPot:!1,
width:a.size}));d.bias=Z.instance(a.bias);var O={F:function(){return a.size},Gb:function(){return D},Ec:function(){return a.classesCount},pd:function(f){e.i(f)},pe:function(){a.remap&&a.remap.isEnabled&&(B={isEnabled:!0,ie:Z.instance({isFloat:!1,isFlipY:!1,array:new Uint8Array(a.remap.maskTexture.data),width:a.remap.maskTexture.width,isPot:!1}),fb:a.remap.layers.map(function(f){return a.parent.Td(f)}),depth:a.remap.depth})},Be:function(){switch(a.connectivityUp){case "direct":z=ic.instance(a.connectivity);
break;case "square":z=jc.instance(a.connectivity);break;case "squareFast":z=kc.instance(a.connectivity,a.activation);break;case "full":z=lc.instance(a.connectivity);break;case "conv":r=a.kernelsCount,z=mc.instance(a.connectivity),v&&(d.lb=Z.instance({width:D,isFloat:!0,isFlipY:!1,isPot:!1}))}if(z.ua){var f=a.size*a.sparsity;m=Math.log(f/a.size)/Math.log(2);d.input=Z.instance({isMipmap:!0,isFloat:!0,isPot:!0,width:f,Ob:m});d.Mb=Z.instance({isFloat:!0,isPot:!0,width:a.size})}},N:function(f,G){e=f;z.ua?
(d.input.ea(),E&&d.bias.i(2),z.N(B),d.input.i(0),d.input.Kd(m),d.Mb.ea(),E?A.set("s0"):(A.set("s28"),A.T("u26",g),d.bias.i(1)),d.input.qd(m,0),aa.m(!1,!1),A.set(C),I?K.v():d.Y.v(),d.Mb.i(0),u&&F.Ed(),aa.m(!1,!1)):(d.Y.ea(),d.bias.i(1),z.N());I&&(A.set(x),M.v(),K.i(0),aa.m(!1,!1),A.set("s47"),A.T("u7",1),d.Y.v(),M.i(1),aa.m(!1,!1));if(k)return L?(d.Ub.ea(),d.Y.i(0),A.set(h),A.oa("u8",1/a.size,1/a.size),aa.m(!1,!1),G=d.Ub):G=d.Y,G.i(0),v&&(d.lb.v(),A.set("s22"),A.oa("u13",r,D/r),aa.m(!1,!1),G=d.lb,
d.lb.i(0)),G;var J=d.Y;a.normalize&&(A.set("gpuRawAvg"===t?"s9":"s8"),A.T("u4",1/a.size),d.Vb.ea(),d.Y.i(0),aa.m(!1,!1),J=d.Vb);f=null;switch(t){case "cpuRGBA2Float":J.tc(!1);G?f=O.re(J).then(p):(J=O.se(J),p(J));break;case "cpuMeanFloat":J.tc(!0);if(G)f=J.ue().then(p);else{J=J.ve();for(var P=0;P<J.length;++P);p(J)}break;case "gpuRawAvg":case "gpuRaw":J.i(0);case "none":null!==p&&p(J)}G&&null===f&&(f=Promise.resolve());return f},yd:function(f){f&&(t=f.Wb||"none",p=f.Tb||null);d.Y=Z.instance({isFloat:!0,
isPot:!0,isMipmap:!1,width:a.size});f="undefined"!==typeof a.classesCount&&a.classesCount?a.classesCount:a.size*a.size;for(var G=0,J=0,P=0;G<f;++G)n.push(J+(a.size-1-P)*a.size),l.push([-1,-1,-1,-1]),++J,J===a.size&&(J=0,++P);a.normalize&&(d.Vb=Z.instance({isFloat:!0,isPot:!0,width:a.size}))},re:function(f){return f.te().then(c)},se:function(f){f=f.Wc();c(f);return l},u:function(){for(var f in d){var G=d[f];G&&G.remove()}z&&(z.u(),z=null)}};a.nb&&O.Be(a.nb);return O}}}(),ic=function(){return{instance:function(a){var c=
Z.instance(a.weights);return{ua:!0,Ya:function(){return 1},u:function(){c.remove()},Xd:function(){return c},N:function(){A.set("s27");c.i(1);aa.m(!1,!1)}}}}}(),lc=function(){return{instance:function(a){var c=a.fromLayerSize,d=Z.instance(a.weights);return{ua:!0,Ya:function(){return c},u:function(){d.remove()},N:function(e){if(e.isEnabled){A.set("s25");e.ie.i(3);var n,l=Math.min(e.fb.length,e.depth);for(n=0;n<l;++n)e.fb[n].pd(4+n)}else A.set("s24");A.T("u17",a.toLayerSize);A.T("u18",a.fromLayerSize);
d.i(1);aa.m(!1,!1)}}}}}(),jc=function(){return{instance:function(a){for(var c=a.fromLayerSize,d=a.toLayerSize,e=a.toSparsity,n=e*d,l=n/c,t=c/d,p=0,k=0,r=0,v=Array(e*d*e*d*4),E=Array(e*d*e*d*4),F=Array(c*c),u=0;u<F.length;++u)F[u]=0;u=Math.floor(e/2);for(var B=.5/d,C=.5/c,g=.5/n,L=0;L<d;++L)for(var D=Math.round(L*t),h=0;h<d;++h){var I=Math.round(h*t),x=L/d,K=h/d;x+=B;K+=B;for(var M=0;M<e;++M){var q=D+M-u;0>q&&(q+=c);q>=c&&(q-=c);for(var m=0;m<e;++m){var z=p/n,O=k/n,f=I+m-u;0>f&&(f+=c);f>=c&&(f-=c);
var G=q/c,J=f/c;O=1-O-1/n;G+=C;J+=C;z+=g;O+=g;var P=L*e+M,ba=h*e+m;ba=d*e-ba-1;P=ba*d*e+P;v[4*P]=z;v[4*P+1]=O;v[4*P+2]=G;v[4*P+3]=J;J=F[f*c+q]++;P=J%l;G=q*l+P;f=f*l+(J-P)/l;f=c*l-1-f;f=f*c*l+G;E[4*f]=z;E[4*f+1]=O;E[4*f+2]=x;E[4*f+3]=K;++p>=n&&(p=0,++k);++r}}}F=null;var ya=Z.instance(a.weights);delete a.weights.data;var za=Z.instance({width:n,isFloat:!0,array:new Float32Array(E),isPot:!0});E=null;var Ha=Z.instance({width:n,isFloat:!0,array:new Float32Array(v),isPot:!0});v=null;return{ua:!0,Ya:function(){return l},
u:function(){za.remove();Ha.remove();ya.remove()},N:function(){A.set("s23");ya.i(1);Ha.i(2);aa.m(!1,!1)}}}}}(),mc=function(){return{instance:function(a){var c=a.kernelsCount,d=a.toSparsity,e=d*a.toLayerSize/a.fromLayerSize,n=Z.instance(a.weights);return{ua:!0,Ya:function(){return e},zf:function(){return d},Xd:function(){return n},u:function(){n.remove()},N:function(){A.set("s26");A.T("u24",c);A.T("u25",d);A.T("u17",a.toLayerSize);A.T("u18",a.fromLayerSize);n.i(1);aa.m(!1,!1)}}}}}(),kc=function(){return{instance:function(a,
c){var d=a.fromLayerSize,e=a.toLayerSize,n=a.toSparsity,l=a.stride?a.stride:1,t=n*e/d,p=e<d,k=d/e,r=Z.instance(a.weights),v="s48"+[d.toString(),e.toString(),n.toString(),l.toString(),c].join("_");A.Jd(v)||(a=dc.Ld(c,"gl_FragColor","gl_FragColor"),e=[{type:"1f",name:"u17",value:e},{type:"1f",name:"u30",value:l}],p&&e.push({type:"1f",name:"u18",value:d}),d=[(p?t:n).toFixed(1),a],p&&d.push(k.toFixed(1)),A.Hc(p?"s40":"s39",v,d),A.L(v,e.concat([{type:"1i",name:"u15",value:0},{type:"1i",name:"u23",value:1},
{type:"1i",name:"u14",value:3}])));return{ua:!1,Ya:function(){return t},u:function(){r.remove()},N:function(){A.set(v);r.i(3);aa.m(!1,!1)}}}}}(),gc=function(){return{instance:function(a){var c=a.Qc?a.Qc:3,d=a.Ic?a.Ic:64,e=a.Tc?a.Tc:64,n=a.cb?!0:!1;a={isFloat:!1,width:d,isPot:!1,isFlipY:!1};var l=Z.instance(a),t=Z.instance(a),p=Z.instance(a),k=Z.instance(a),r=Z.instance({isFloat:!0,width:e,isPot:!1,isFlipY:!1}),v=1/d;return{process:function(E){A.set("s36");k.v();aa.m(n,!1);A.set("s37");for(var F=0;F<
c;++F)l.v(),A.oa("u8",v,0),aa.m(n,!1),p.v(),k.i(0),aa.m(n,!1),t.v(),l.i(0),A.oa("u8",0,v),aa.m(n,!1),k.v(),p.i(0),aa.m(n,!1),F!==c-1&&t.i(0);A.set("s38");r.v();E.i(0);t.i(1);k.i(2);aa.m(n,!1);r.i(0)},Hb:function(){return r}}}}}(),hc=function(){return{instance:function(a){function c(v){return Z.instance({isFloat:v,width:d.H,isPot:!1,isFlipY:!1})}var d=Object.assign({jd:.1,oc:9,H:128,gain:1,cb:!1},a),e=c(!1),n=[c(!1),c(!1),c(!1)],l=[c(!1),c(!1),c(!1)],t=c(!0),p=[e,l[0],l[1]];a="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u32;varying vec2 vv0;void main(){float b=0.,c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u32*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j).r,c+=f;}b/=c,gl_FragColor=vec4(b,0.,0.,1.);}".replace("1.1111",
Math.round((d.oc-1)/2).toFixed(2)).replace("2.2222",(1/d.H).toFixed(6));var k="uniform sampler2D u33,u34,u35,u36;const float f=1.1111;const vec3 g=vec3(1.,1.,1.);const float h=2.2222;varying vec2 vv0;void main(){vec3 a=texture2D(u33,vv0).rgb;float c=texture2D(u34,vv0).r,d=texture2D(u35,vv0).r,i=texture2D(u36,vv0).r,j=a.r*a.r;vec3 b=vec3(c,d,i),k=max(g*f,abs(j-b*b)),l=sqrt(k);gl_FragColor=vec4(a.r,h*(a-b)/l);}".replace("1.1111",d.jd.toFixed(4)).replace("2.2222",d.gain.toFixed(4)),r={u1:0};A.lc([{id:"s50",
name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(.2126,.7152,.0722),g=vec3(1.,1.,1.);void main(){vec3 b=texture2D(u1,vv0).rgb;float a=dot(b,f);gl_FragColor=vec4(a,a,a,a);}",l:r,j:["u1"],precision:"lowp"},{id:"s51",name:"_",g:a,l:r,j:["u1","u32"],precision:"lowp"},{id:"s52",name:"_",g:k,l:{u33:0,u34:1,u35:2,u36:3},j:["u33","u34","u35","u36"],precision:"highp"}]);return{process:function(){A.set("s50");e.ea();aa.m(d.cb,!1);A.set("s51");for(var v=0;3>v;++v)A.oa("u32",1,0),n[v].v(),
p[v].i(0),aa.m(!1,!1),A.oa("u32",0,1),l[v].v(),n[v].i(0),aa.m(!1,!1);A.set("s52");t.v();e.i(0);l[0].i(1);l[1].i(2);l[2].i(3);aa.m(!1,!1);t.i(0)},Hb:function(){return t}}}}}(),xb=function(){function a(B,C,g,L,D,h,I){if(!F)if(I===h.length)D();else{switch(h[I]){case "A":g();break;case "D":B();break;case "S":C().then(function(x,K){u.ed();a(B,C,g,K?null:L,D,h,++I)}).catch(function(){D()});return;case "R":L&&L()}a(B,C,g,L,D,h,++I)}}var c={n:5,Pb:1,he:0,Xa:[35,49],Ua:[2,200],k:.7,Je:200,me:.05},d=-1,e=null,
n=-1,l=-1,t=0,p=-1,k=-1,r=0,v=0,E=c.Ua[1],F=!0,u={Ud:function(){switch(d){case -1:return-1;case 0:return k+e.he;case 1:return r}},ff:function(B){return Math.pow(Math.min(Math.max(p,0),e.n-1)/(e.n-1),B||1)},B:function(B){e=Object.assign({},c,B);p=k=e.Pb;d=0;u.reset()},ed:function(B){B=("undefined"===typeof B?Date.now():B)||0;var C=Math.min(Math.max(B-v,e.Ua[0]),e.Ua[1]);E=C;v=B;var g=-1===n?0:e.k;n=Math.min(Math.max(1E3/C,5),120)*(1-g)+n*g;B-l>e.Je&&5<++t&&(C=e.k,p=p*(1-C)+(n<e.Xa[0]?k-1:n>e.Xa[1]?
k+1:k)*C,Math.abs(p-k)>1-e.me&&(C=Math.min(Math.max(Math.round(p),0),e.n-1),C!==k&&(p=k=C,n=(e.Xa[1]-e.Xa[0])/2)),l=B)},Wf:function(B,C,g,L,D,h){F=!1;a(B,C,g,L,D,h,0)},stop:function(){F=!0},Zf:function(B){r=B;d=1},mg:function(){d=0;u.reset()},reset:function(){E=c.Ua[1];l=n=-1;t=0},lf:function(){return E}};return u}(),Gb=function(){var a={Rc:4,mb:[1.5,1.5,2],O:[.1,.1,.1],Zc:1,H:-1,S:-1,Fe:2,le:1,$c:!0,Fd:.8},c=null,d=[],e=[0],n=[.5,.5,1];return{B:function(l){c=Object.assign({},a,l);d.splice(0);l=c.mb[0]*
c.O[0];var t=c.mb[1]*c.O[1],p=1/(1+c.mb[2]*c.O[2]),k=c.Zc*Math.min(c.H,c.S),r=k/c.H;k/=c.S;var v=.5*c.Fd;v*=v;for(var E=0;E<c.Rc;++E){var F=Math.pow(p,E),u=r*F,B=k*F;F=u*c.le;var C=u*l,g=B*t;u/=2;B/=2;for(var L=1+(1-u-u)/C,D=1+(1-B-B)/g,h=0;h<D;++h)for(var I=B+h*g,x=I-.5,K=0;K<L;++K){var M=u+K*C,q=M-.5;q*q+x*x>v||d.push([M,I,F])}}c.$c&&d.sort(function(m,z){var O=m[0]-.5;m=m[1]-.5;var f=z[0]-.5;z=z[1]-.5;return O*O+m*m-(f*f+z*z)})},get:function(l){var t=d.length;if(0===t)return n;for(;l>=e.length;)e.push(0);
e[l]>=t&&(e[l]=0);var p=d[Math.floor(e[l])];e[l]=(e[l]+1/c.Fe)%t;return p},reset:function(){for(var l=d.length/e.length,t=0;t<e.length;++t)e[t]=Math.floor(t*l)}}}(),fa={Pa:512,O:[.05,.05,.15],xe:{nScaleLevels:3,scale0Factor:.8,overlapFactors:[2,2,3],scanCenterFirst:!0,scaleXRange:[1/15,.9]},je:3,ec:.68,kb:10,gb:.03,ma:8,sb:-.02,Qa:.02,Ka:.7,ib:20,Ra:.3,Ma:[.02,10],jb:[1,6],ke:3},La=Object.create(fa.xe),vb=0,Hb=0,wb=!1,W={width:-1,Nb:!0,Ea:!1,bb:!1,Yc:null,$b:!1,pitchRange:null,O:fa.O},Qa=null,ta=
null,Ya=!1,Ta=!1,Ea=0,ab=null,H=null,nc={aspectRatio:1,Lb:1,ra:[1,1],H:0,S:0,ga:0,fa:0,Da:"s53",I:{Aa:[0,0],scale:[1,1]}},U={M:null,o:[0,0,0,0]},ha={ia:-2,LOADING:-1,xa:0,vb:1,ic:2,Na:3},qa=ha.ia,Wa={ia:-2,LOADING:1,IDLE:0},cb=Wa.ia,Fa=null;var Ib=ea=0;var bb=-1;var Y={n:0,Sc:0,Rb:0,G:-1,W:[0,0]},Xa={video:0,kd:1},Ma={undefined:0,video:1,rc:2,Cb:3},R=null,oc={current:Xa.video,element:null,M:null,sa:!1,type:Ma.undefined,time:-1,pa:null},Qb=!1,ma={distance:0,label:!1,positionScale:[0,0,0,0],detectScore:0,
yaw:0,pitch:0,roll:0},ub=1,bc={cutShader:null,thresholdDetectFactor:1,thresholdDetectFactorUnstitch:1,isSkipConfirmation:!1,isKeepTracking:!1,trackingFactors:[2,2,2],secondNeighborFactor:fa.Ka,nLocateAutomoves:fa.kb,locateMoveNoiseAmplitude:fa.gb,nConfirmAutoMoves:fa.ma,nConfirmUnstitchMoves:fa.ib,confirmMoveNoiseAmplitude:fa.Qa,thresholdConfirmOffset:fa.sb,tiltPosAngleIfAmbiguousDetection:fa.Ma,confirmScoreMinFactorDuringAutoMove:fa.Ra},na={},V={tb:1,dd:1,Ga:!1,ab:!1,fd:null,Ka:fa.Ka,kb:-1,gb:-1,
ma:-1,sb:-1,Qa:-1,ib:-1,Ma:null,Ra:-1},Kb=[{type:"1f",name:"u37",value:0}],lb={VERSION:"1.2.3",init:function(a){function c(d){a.callbackReady&&a.callbackReady(d)}if(qa!==ha.ia)return c("ALREADY_INITIALIZED");qa=ha.LOADING;H=Object.assign({},nc);R=Object.assign({},oc);if("undefined"!==typeof a.canvas)ta=a.canvas,Ya=!1;else if("undefined"===typeof a.canvasId)ta=document.createElement("canvas"),Ya=!1;else{ta=document.getElementById(a.canvasId);if(!ta)return c("INVALID_CANVASID"),!1;Ya=!0}"undefined"!==
typeof a.isDebugRender&&(Ya=a.isDebugRender);Ya&&(ta.style.display="block");a.scanSettings&&Object.assign(La,a.scanSettings);a.canvasSize&&(fa.Pa=a.canvasSize);xb.B({n:fa.jb[1]-fa.jb[0]+1,Pb:fa.ke-fa.jb[0]});Ta="undefined"===typeof a.followZRot?!1:a.followZRot;ab="undefined"===typeof a.ZRotRange?null:a.ZRotRange;Qb="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope;-1!==fa.Pa&&(ta.width=fa.Pa,ta.height=fa.Pa);lb.set_source(a.video,a.videoCrop);if(!nb.B({Sa:ta,
width:ta.width,height:ta.height,debug:!1,Sb:c.bind(null,"GLCONTEXT_LOST"),premultipliedAlpha:!1}))return c("GL_INCOMPATIBLE"),!1;R.current===Xa.video&&(Lb(R.element),Va());ac();Ja();qa=ha.xa;c(!1);return!0},set_source:function(a,c){"undefined"!==typeof a&&a?(R.element=a,R.current=Xa.video,R.element.isFakeVideo?(H.ga=R.element.videoWidth,H.fa=R.element.videoHeight,R.type=Ma.Cb):"VIDEO"===a.tagName?(H.ga=R.element.videoWidth,H.fa=R.element.videoHeight,R.type=Ma.video):(H.ga=R.element.width,H.fa=R.element.height,
R.type=Ma.rc),Ba(c)):R.current=Xa.kd;-1===[ha.ia,ha.LOADING].indexOf(qa)&&(R.pa&&R.pa.D&&(R.pa.D=a),Va(),Ja(),R.type===Ma.rc&&R.M.refresh())},set_NN:function(a,c,d){if(cb===Wa.LOADING)c&&c("NN_LOADING");else{var e=function(n){cb=Wa.IDLE;c&&c(n)};cb=Wa.LOADING;"string"===typeof a?mb.get(a,function(n){if(!n)return e("INVALID_NN");var l=null;try{l=JSON.parse(n)}catch(t){return e("INVALID_NN")}Mb(l,e,d)},function(){e("NOTFOUND_NN")}):Mb(a,e,d)}},reset_state:function(){Jb();qa=ha.xa},destroy:function(){lb.reset_state();
Qa&&Qa.u();nb.u();cb=Wa.ia;qa=ha.ia;return Promise.resolve()},detect_async:function(a,c,d){var e,n;return Wb(new Db(new jb(function(l){switch(l.da){case 1:e=Nb(a,c,d);if(-1===e)return l.return(ma);n=0;case 2:if(!(n<e)){l.da=4;break}Ob(n,e);var t=Qa.oe(U.M);l.da=5;return{value:t};case 5:Ca.V();++n;l.da=2;break;case 4:return l.return(Pb())}})))},detect:function(a,c,d){a=Nb(a,c,d);if(-1===a)return ma;for(c=0;c<a;++c)Ob(c,a),Qa.N(U.M),Ca.V();return Pb()},get_aspectRatio:function(){return H.H/H.S},set_scanSettings:function(a){Object.assign(La,
a);Va()},set_videoCrop:function(a){Ba(a);Ja();Va()}};return lb}();
;return WEBARROCKSOBJECT||window.WEBARROCKSOBJECT;})();